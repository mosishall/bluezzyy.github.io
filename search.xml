<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[博客100天总结]]></title>
      <url>/articles/one-hundred-days-summary.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>本博客已经运行了100天了</p>
<p>是时候该总结一下了</p>
</blockquote>
 <a id="more"></a>
<p>##一、本博客主要写什么</p>
<p>​    作为一名新入职场的菜鸟，最近越来越觉得大学四年时间都被荒废了，没有好好学习该掌握的理论知识，导致现在工作效率的低下。搭建这个博客的初衷就是：在工作中遇到很多问题，以及学到了很多新技术，这些都是我想通过博客写成文章，记录下来的。这些不仅仅是经验之谈，更是人生阅历，也是阶段性的总结。因此，在博客运行100天之际，写下这篇文章，谈谈这段时间都做了什么。</p>
<p>​    <strong>本博客主要是为了记录</strong></p>
<ul>
<li>技术上遇到的问题，好用的小工具，学习到的新技术，目前是Android开发，对Python有兴趣，主要是爬虫和数据分析方向。</li>
<li>读过的好书，包括读书笔记，以及个人的总结和思考</li>
<li>看过的电影 — 这个应该比较少，毕竟一部电影2h，还是挺耗时间的  例如:  <a href="https://www.bluelzy.com/articles/forever_young.html">无问西东</a></li>
<li>日常生活中的琐事，或者是自己的思考过程，也就是碎碎念~</li>
</ul>
<p>##二、100天总结</p>
<p>搭建个人博客100天总结：</p>
<ul>
<li>读书</li>
<li>Android开发</li>
</ul>
<p>这两个就是近100天主要进行的活动，由于项目加班较多，因此也没有多少时间总结遇到的问题，踩过的坑，但是我都记在Evernote里面了，以后有时间再挑一些写吧。</p>
<h3 id="读书"><a href="#读书" class="headerlink" title="读书"></a>读书</h3><p>这段时间读完了以下书籍：</p>
<p>一月：</p>
<ul>
<li><a href="https://book.douban.com/subject/10765018/" target="_blank" rel="noopener">拿工薪，三十几岁你也能赚到600万</a>   2018/01/02  </li>
<li><a href="https://book.douban.com/subject/2201570/" target="_blank" rel="noopener">爱嘉定投魔法</a>  2018/01/04 </li>
<li><a href="https://book.douban.com/subject/6519055/" target="_blank" rel="noopener">买基金为自己加薪</a>  2018/01/05  </li>
</ul>
<p>二月：</p>
<ul>
<li><a href="https://book.douban.com/subject/3558629/" target="_blank" rel="noopener">时间管理：小强升职记</a> 2018/02/22</li>
<li><a href="https://book.douban.com/subject/19940741/" target="_blank" rel="noopener">罗辑思维2</a>  2018/02/27</li>
</ul>
<p>三月：</p>
<ul>
<li><a href="https://book.douban.com/subject/27041645/" target="_blank" rel="noopener">百万富翁快车道</a>  2018/03/07  </li>
<li><a href="https://book.douban.com/subject/27609489/" target="_blank" rel="noopener">远见：如何规划职业生涯3大阶段</a> 2018/03/18  </li>
<li><a href="https://book.douban.com/subject/26312412/" target="_blank" rel="noopener">发现你的天赋：天分与热情成就人生</a>  2018/03/24</li>
<li>阿里巴巴Android开发手册 2018/03/26</li>
</ul>
<p>​    这段时间主要是想提高理财的能力，以及对时间管理的了解，因此结合之前看过的《刻意练习》和《好好学习》这两本书，加上《小强升职记》，对学习方法，以及工作效率都有新的看法。学习到一些技巧现在也会运用在生活中~</p>
<p>​    首先必须要推荐的是《爱嘉定投魔法》，在基金投资三部曲当中（也就是我一月份看的这三本书），整体性最强，提供的实操性也是最强的，就是《爱嘉定投魔法》。建议大家对理财有兴趣的都可以去看看，其他两本，第一本是国外的，和社会主义特色有点不大一样。第二本是台湾的，可行性和实操性有局限性，而且内容大部分和前两本类似，所以匆匆过了一遍就没看了。</p>
<p>​    对于时间管理和学习方法方面的书有很多，《和时间做朋友》《七年就是一辈子》《精进》《跃迁》等等，对于初入职场的人来说，首先可以看看《小强升职记》，如何把自己手头上的事情做好~有了空闲时间，再通过学习别人好的方法，提高效率，不断学习精进。</p>
<p>​    这些书的笔记其实都保存在EvenNote里面，但是由于比较随性，所以就没有放到博客上，打算把成体系，或者比较完整的笔记放上来，其他的就自己留着偶尔回顾吧。</p>
<h3 id="Android开发"><a href="#Android开发" class="headerlink" title="Android开发"></a>Android开发</h3><p>​    自己负责一个App Adnroid端的开发，没有造出什么轮子，也没有注重代码的解耦，每天按照需求加班加点开发，好不容易做完了。希望接下来继续review代码，学习优秀的架构思想和设计模式，不仅仅实现功能，还要把代码和项目做得漂亮。提高抽象能力，更加注重基础！</p>
<p>这段时间还是学习到了很多东西的</p>
<ul>
<li>自定义View从0到1，现在基本都能实现出来想要的UI效果</li>
<li>更加了解事件分发机制，处理了各种各样的滑动冲突，刚开始真的是有点懵逼。。</li>
<li>对MVP模式更加熟悉</li>
<li>Kotlin从入门到放弃，慢慢把代码迁移过来吧</li>
</ul>
<p>看完了</p>
<ul>
<li>Android权威编程指南</li>
</ul>
<p>正在看</p>
<ul>
<li>Android开发进阶 从小工到专家</li>
</ul>
<p>打算看</p>
<ul>
<li>Android群英传</li>
<li>Android开发艺术探索</li>
<li>Android源码设计模式</li>
</ul>
<p>##三、2018年展望和计划</p>
<h3 id="一、读书"><a href="#一、读书" class="headerlink" title="一、读书"></a>一、读书</h3><p>保持每个月3本书的进度，有时间的话可以把读书笔记和思考总结出来。</p>
<h3 id="二、技术"><a href="#二、技术" class="headerlink" title="二、技术"></a>二、技术</h3><p>由于深感基础太差，目前跟着萧大的<a href="https://zhuanlan.zhihu.com/p/19959253?columnSlug=xiao-jing-mo" target="_blank" rel="noopener">编程入门指南</a>来学习，2018-03-28正处于启蒙阶段，Python导论和CS50这两门课还是比较简单的，容易激发对计算机科学的兴趣，空闲时间正在读<a href="https://book.douban.com/subject/4822685/" target="_blank" rel="noopener">《编码》</a>，以下这段话摘自<a href="https://zhuanlan.zhihu.com/p/19959253?columnSlug=xiao-jing-mo" target="_blank" rel="noopener">编程入门指南</a></p>
<blockquote>
<p>为了更好理解，可以将学习编程类比为学习厨艺：你为了烧得一手好菜买了一些关于菜谱的书，如果你只是想为家人做菜，这会是一个不错的主意，你重复菜谱上的步骤也能做出不赖的菜肴，但是如果你有更大的野心，真的想在朋友面前露一手，做一些独一无二的美味佳肴，甚至成为「大厨」，你必须理解这些菜谱背后大师的想法，理解其中的理论，而不仅仅是一味地实践。但是如果你每天唯一的工作就是阅读那些厚重的理论书籍，因为缺乏实践，你只会成为一个糟糕的厨子，甚至永远成为不了厨子，因为看了几天书后你就因为枯燥放弃了厨艺的学习。</p>
<p>总之，编程是连接理论与实践的纽带，是<a href="https://link.zhihu.com/?target=http%3A//zh.wikip" target="_blank" rel="noopener">计算机科学</a>与计算机应用技术相交融的领域。正确的编程学习方法应该是：通过自顶而下的探索与项目实践，获得编程直觉与推动力；从自底向上的打基础过程中，获得最重要的通用方法并巩固编程思想的理解。</p>
<p>作为初学者，应以后者为主，前者为辅。</p>
</blockquote>
<h3 id="三、碎碎念"><a href="#三、碎碎念" class="headerlink" title="三、碎碎念"></a>三、碎碎念</h3><ul>
<li>Android是主线，不断打怪嗑药得经验升级~</li>
<li>Python和计算机科学的学习可以同时进行</li>
<li>每天坚持看书~自己也要有思考总结！</li>
</ul>
<p>最后的最后，距离2018年已经过去了1/4，还有283天结束，加油吧💪！！！</p>
<p>需要电子书的童鞋也可以留下书名+邮箱，我有空的时候会发给你们~</p>
<hr>
]]></content>
      
        <categories>
            
            <category> 日常说 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 博客总结 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[【读书笔记】远见：如何规划职业生涯3大阶段]]></title>
      <url>/articles/reading-career-planing.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>本书是从整个职业生涯的角度，对每一个阶段进行解读，并且提供了一些建议。</p>
<p>职业生涯45年，每15年一个阶段。到底怎么做才能拥有一个正向的职业生涯？</p>
<p>遇到失业，不能平衡家庭和工作，要跨国工作等问题，又该怎么办？</p>
<p>让这本书为我们一一讲解。</p>
</blockquote>
 <a id="more"></a>
<h2 id="本书总览"><a href="#本书总览" class="headerlink" title="本书总览"></a>本书总览</h2><p>Part 1 ： 介绍正确的职场思维、框架和工具</p>
<p>Part 2 ：提供实用性建议和案例，帮助应对职业生涯的三个主要阶段</p>
<p>Part 3 ：以现实为基础，如何平衡工作与家庭的关系</p>
<h2 id="第一部分：远见思维与工具箱"><a href="#第一部分：远见思维与工具箱" class="headerlink" title="第一部分：远见思维与工具箱"></a>第一部分：远见思维与工具箱</h2><h4 id="1、远见思维：多行动，少忧虑"><a href="#1、远见思维：多行动，少忧虑" class="headerlink" title="1、远见思维：多行动，少忧虑"></a>1、远见思维：多行动，少忧虑</h4><h4 id="2、3大阶段，聚焦45年职业生涯"><a href="#2、3大阶段，聚焦45年职业生涯" class="headerlink" title="2、3大阶段，聚焦45年职业生涯"></a>2、3大阶段，聚焦45年职业生涯</h4><p>第一阶段、加添燃料，强势开局</p>
<p>前15年的唯一目标就是：为接下来的两个阶段打好基础</p>
<p>这个阶段是探索和弥补自身短板的时候。学习要比纯粹的成功更重要。跌倒不可怕，只要吸取教训，并加以利用就行。</p>
<p>第二阶段、聚焦长版，到达高点</p>
<p>中间的15年是着眼于核心长版，专注长处，树立起自己的品牌。</p>
<p>第三阶段、优化长尾，持续发挥影响力</p>
<p>最后几年从领导变成顾问或者辅助的角色。</p>
<h4 id="3、储备3大职场燃料"><a href="#3、储备3大职场燃料" class="headerlink" title="3、储备3大职场燃料"></a>3、储备3大职场燃料</h4><p>如果说读了这本书你需要记住什么的话，那就是<strong>真正成功的可持续职业生涯是靠职场燃料推动的。</strong></p>
<p>聪明的职业策略应该是：<strong>在整个职业生涯中积累职场燃料并不断更新，同时精明地消费它们。</strong></p>
<ul>
<li>可迁移技能 ： 解决问题的能力，说服式沟通技巧、完成任务的能力、情商</li>
<li>有意义的经验：创业，第二语言，跨过工作，志愿者项目等等</li>
<li>持久的关系，即职业生态系统：上司，客户，商业伙伴，身边的人才，同类人</li>
</ul>
<h4 id="4、5个数字，树立正确职场思维"><a href="#4、5个数字，树立正确职场思维" class="headerlink" title="4、5个数字，树立正确职场思维"></a>4、5个数字，树立正确职场思维</h4><ul>
<li>职业生涯的长度：60 - 年龄  = 退休年数</li>
<li>精通一项技能所需的时间：1W小时</li>
<li>40岁以后赚到的个人财富百分比：85-90%</li>
<li>社交货币：一般在200个左右</li>
<li>职场支持者的人数：找到3~5个真正能成为导师的人</li>
</ul>
<h4 id="5、4大黄金问题，评估职业价值"><a href="#5、4大黄金问题，评估职业价值" class="headerlink" title="5、4大黄金问题，评估职业价值"></a>5、4大黄金问题，评估职业价值</h4><p>​    1号燃料清单：</p>
<p>​        学位、专业证书</p>
<p>​        语言，包括音乐和计算机语言</p>
<p>​        上司和同事对你评估的优点</p>
<p>​        你收到的关于情商的评价</p>
<p>​        你的“人才账户”</p>
<p>​    2号燃料清单</p>
<p>​        个人旅游</p>
<p>​        国外工作经历</p>
<p>​        企业管理或创业经验</p>
<p>​        社区或志愿者活动</p>
<p>​        个人贡献的项目，产品，活动</p>
<p>​        公开演讲、写作、表演经验</p>
<p>​        教学、资讯或指导的经验</p>
<p>​        兴趣、业余活动、工作之余热情</p>
<p>​        </p>
<p>​    3号燃料清单：</p>
<p>​        支持者，关键同事，专家团，联系人</p>
<p>​    4大黄金问题：</p>
<p>​        1.我是否正在学习和成长？</p>
<p>​        2.我是否正在对某些人，现在的公司，乃至整个社会拥有影响力？</p>
<p>​        3.我体验到乐趣了吗？</p>
<p>​        4.我是否得到了奖励，并创造了经济价值？</p>
<h4 id="6、100小时测试，合理投资时间"><a href="#6、100小时测试，合理投资时间" class="headerlink" title="6、100小时测试，合理投资时间"></a>6、100小时测试，合理投资时间</h4><p>​    每周清醒时间大概为100小时，如何分配是关键。</p>
<p>​    不同年龄段的人，工作，家庭，娱乐的时间分配比例也有所不同。</p>
<p>​    碎片时间用于投资，获取乐趣，产出。</p>
<h4 id="7、-职场路径向导，做出正确的职业决策"><a href="#7、-职场路径向导，做出正确的职业决策" class="headerlink" title="7、 职场路径向导，做出正确的职业决策"></a>7、 职场路径向导，做出正确的职业决策</h4><p>​    首先要问自己三个问题：</p>
<p>​    1.职业理想是什么，至少假设一个可能想到达到的目标</p>
<p>​    2.目前手上有什么职场燃料？</p>
<p>​    3.还需要什么职场燃料才能实现这个终极理想？</p>
<p>​    只有快速成长，才能长期成功</p>
<p>​        1.周围都是比自己聪明的人</p>
<p>​        2.有失败的机会</p>
<p>​        3.公司能让自己肩负重大责任</p>
<h2 id="第二部分-三大职业生涯阶段"><a href="#第二部分-三大职业生涯阶段" class="headerlink" title="第二部分 三大职业生涯阶段"></a>第二部分 三大职业生涯阶段</h2><h4 id="第一阶段-加添燃料，强势开局"><a href="#第一阶段-加添燃料，强势开局" class="headerlink" title="第一阶段 加添燃料，强势开局"></a>第一阶段 加添燃料，强势开局</h4><p>​    1.利用在读时间好好学习，储备燃料</p>
<p>​    2.制定求职计划</p>
<p>​    3.积极参与校园招聘</p>
<p>​    4.做好心理准备</p>
<p>​    5.不断探索</p>
<h4 id="第二阶段-锚定甜蜜去，聚焦长版"><a href="#第二阶段-锚定甜蜜去，聚焦长版" class="headerlink" title="第二阶段 锚定甜蜜去，聚焦长版"></a>第二阶段 锚定甜蜜去，聚焦长版</h4><p>​    在20多岁，甚至30多岁的时候，不管我们对工作是否有热情和兴趣，我们都可以把工作做得非常好，因为我们年轻，充满活力，我们的满足感主要来源于工作之外。但是到最后，由于与这一领域缺乏深度的联系，各种困扰就会出现，这让让会发生在我们40多岁的时候。我们会感到越来越无法投入工作，竞争力不断下降。我们天生的创造力已经快耗尽了。我们无法关注所在领域发生的变化，因为我们已经脱轨。更年轻，更有创造力，而且更廉价的人很快就会取代我们。</p>
<p>创造精通技能的秘方就是意愿和时间    </p>
<p>你必须自己帮自己开门，不停的问自己“另外一边有什么，我为什么不能去呢？”。永远不要停下对未来的规划，要努力让自己成为幸运儿。</p>
<h4 id="第三阶段-优化长尾-发挥影响力"><a href="#第三阶段-优化长尾-发挥影响力" class="headerlink" title="第三阶段 优化长尾 发挥影响力"></a>第三阶段 优化长尾 发挥影响力</h4><p>建议1：试验，自愿接受挑战。</p>
<p>建议2：创业，开辟全新疆域。</p>
<p>建议3：管理学习曲线，保持关联性。</p>
<h2 id="第三部分-应对职场和生活的冲突"><a href="#第三部分-应对职场和生活的冲突" class="headerlink" title="第三部分 应对职场和生活的冲突"></a>第三部分 应对职场和生活的冲突</h2><h4 id="如何做好职场父母："><a href="#如何做好职场父母：" class="headerlink" title="如何做好职场父母："></a>如何做好职场父母：</h4><p>1.不要让职业生涯和为人父母成为非此即彼的选项。</p>
<p>2.找到一个热爱家庭的雇主。</p>
<p>3.设立现实的期望和严格的界限。</p>
<p>4.管理你的时间和精力</p>
<h4 id="如何应对职场危机："><a href="#如何应对职场危机：" class="headerlink" title="如何应对职场危机："></a>如何应对职场危机：</h4><p>1.清晰客观地认识问题：这是一个不可避免的事件？一个认知上的问题？业绩上的问题？</p>
<p>2.有时候，职场危机可能是由于别人对你的技能，目标的错位认知引起的。</p>
<p>3.在其他情况中，你的不足之处可能是真实存在的</p>
<p>4.有些职场危机是可以预见并且规避的：时刻关注公司，行业，业绩的变化。</p>
<p>5.遇到危机要快速重回正轨：重新组织，重新包装，重新连接，重新建立。</p>
<h4 id="智能时代下的职场选择："><a href="#智能时代下的职场选择：" class="headerlink" title="智能时代下的职场选择："></a>智能时代下的职场选择：</h4><p>1.数字技术和数据分析</p>
<p>2.将时间货币投资到技能之上：时间是人生的唯一货币</p>
<p>3.获得收入的答案就是工作</p>
<h2 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h2><p>改善3个因素，提升幸福指数</p>
<p>50%是基因决定的</p>
<p>10%是生活环境决定的</p>
<p>40%是主动的行为决定的：追求新的知识，新的成就，控制自己的想法。</p>
<ul>
<li>表达感恩</li>
<li>培养乐观的心态</li>
<li>避免过度思虑和社会攀比</li>
<li>多行善事</li>
<li>维护人际关系</li>
<li>发展合作的策略</li>
<li>学会原谅</li>
<li>增加心流体验</li>
<li>享受生活的乐趣</li>
<li>努力实现目标</li>
<li>关注身体健康</li>
</ul>
<h2 id="个人总结"><a href="#个人总结" class="headerlink" title="个人总结"></a>个人总结</h2><h4 id="职场分为三大阶段"><a href="#职场分为三大阶段" class="headerlink" title="职场分为三大阶段"></a>职场分为三大阶段</h4><p>前15年：不断尝试，争当斜杠青年，学习经验和技能，特别是<strong>可迁移技能</strong></p>
<p>中15年：发挥优势，专注长处，成为某个领域的专家(给自己贴标签)，树立起个人品牌。</p>
<p>后15年：通过人脉，经验，影响力等优势创造价值，或者再创业。</p>
<h4 id="几点感想"><a href="#几点感想" class="headerlink" title="几点感想"></a>几点感想</h4><p>1.向优秀的人学习，上司，同事，客户等，既是积累人脉，也是学习优点的机会。</p>
<p>2.活到老学到老，现在新闻经常说华为清退34岁以上老员工，中兴42岁高官被辞退等等，那是因为人都是有惰性的，前几年努力工作，当上中层管理，或者技术组长以后，进入了自己的舒适区就不愿意挪窝了。那再过几年，跟不上时代的变化，自然就会被淘汰。因此有一点很重要：成为<strong>终身学习者</strong>。</p>
<p>3.每个阶段的重点都不同，前期积累，中期收获，后期发挥余热。</p>
<p>前期努力工作，学习技能是重点，10000小时必不可少。</p>
<p>中期由于家庭需要照顾，不能像年轻的时候把时间都用于工作，因此需要使用策略来平衡两者。</p>
<p>到了后期，财富积累有了，个人经验也足够了，可以选择之前没尝试过的领域，开拓人生宽度。</p>
<hr>
]]></content>
      
        <categories>
            
            <category> 读书笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 读书 </tag>
            
            <tag> 职业规划 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[为小绿锁快速续命]]></title>
      <url>/articles/update-https-by-acme-sh.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>眼看着小绿锁快到期了，但是crontab又失效了</p>
<p>作为一个懒人，只好上网找现成的工具来解决</p>
<p>登登登登，主角登场：<a href="https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc" target="_blank" rel="noopener"><strong>acme.sh</strong></a></p>
</blockquote>
 <a id="more"></a>
<h2 id="简单介绍ACME"><a href="#简单介绍ACME" class="headerlink" title="简单介绍ACME"></a>简单介绍ACME</h2><p>ACME 全称是 Automated Certificate Management Environment，直译过来是自动化证书管理环境的意思，Let’s Encrypt 的证书签发过程使用的就是 ACME 协议。有关 ACME 协议的更多资料可以在<a href="https://github.com/ietf-wg-acme/acme/" target="_blank" rel="noopener">这个仓库</a>找到。</p>
<p>之前我的网站就是用的 <a href="https://letsencrypt.org/" target="_blank" rel="noopener">Let’s Encrypt</a> 这个免费、自动化、开放的证书签发服务。正好到3月19号就到期了，需要续签，于是就找到了acme.sh这个小工具。</p>
<p>acme.sh的好处:</p>
<ol>
<li>一键快捷安装 <strong>acme.sh</strong></li>
<li>一行命令生成证书</li>
<li>自动更新证书</li>
<li>自动更新 <strong>acme.sh</strong></li>
</ol>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>官方文档（中文）：<a href="https://github.com/Neilpang/acme.sh/wiki/%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener">acme.sh说明</a></p>
<p>其实官方文档里面已经说很详细了，我也是跟着文档一步步来操作的。</p>
<p>这篇文章把一些要注意的地方和截图都补上，让大家能清晰快速地更新证书~</p>
<h3 id="主要步骤："><a href="#主要步骤：" class="headerlink" title="主要步骤："></a>主要步骤：</h3><h3 id="1-安装acme-sh"><a href="#1-安装acme-sh" class="headerlink" title="1.安装acme.sh"></a>1.安装acme.sh</h3><p>安装很简单, 一个命令:</p>
<blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> curl  https://get.acme.sh | sh</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"></span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>这个命令把acme.sh安装到<strong>home</strong>目录下，并且自动创建cronjob  </p>
<p><strong>注意</strong>：<strong>安装过程不会污染已有的系统任何功能和文件</strong>, 所有的修改都限制在安装目录中: <code>~/.acme.sh/</code></p>
<h3 id="2-生成证书"><a href="#2-生成证书" class="headerlink" title="2.生成证书"></a>2.生成证书</h3><p><strong>acme.sh</strong> 实现了 <strong>acme</strong> 协议支持的所有验证协议. 一般有两种方式验证: http 和 dns 验证</p>
<p><strong>我使用的是http方式</strong>，如果想用dns验证的请看官方文档</p>
<p>首先进入/home/.acme.sh/ 目录，然后执行下面这条命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme.sh  --issue  -d bluelzy.com -d www.bluelzy.com  --webroot  /var/www/bluelzy.com</span><br></pre></td></tr></table></figure>
<p>www.bluelzy.com -&gt; 换成你的域名</p>
<p>/var/www/bluelzy.com -&gt; 换成你的网站<strong>根目录</strong></p>
<p>如果你用的 <strong>apache</strong>服务器, <strong>acme.sh</strong> 还可以智能的从 <strong>apache</strong>的配置中自动完成验证, 你不需要指定网站根目录:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme<span class="selector-class">.sh</span> --issue  -d mydomain<span class="selector-class">.com</span>   --apache</span><br></pre></td></tr></table></figure>
<p>如果你用的 <strong>nginx</strong>服务器, 或者反代, <strong>acme.sh</strong> 还可以智能的从 <strong>nginx</strong>的配置中自动完成验证, 你不需要指定网站根目录:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme<span class="selector-class">.sh</span> --issue  -d mydomain<span class="selector-class">.com</span>   --nginx</span><br></pre></td></tr></table></figure>
<p>如无意外应该能看到以下输出：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Sat Mar <span class="number">17</span> <span class="number">22</span>:<span class="number">38</span>:<span class="number">56</span> EDT <span class="number">2018</span>] Your cert is <span class="keyword">in</span>  /root/<span class="selector-class">.acme</span><span class="selector-class">.sh</span>/bluelzy.com/bluelzy<span class="selector-class">.com</span><span class="selector-class">.cer</span></span><br><span class="line">[Sat Mar <span class="number">17</span> <span class="number">22</span>:<span class="number">38</span>:<span class="number">56</span> EDT <span class="number">2018</span>] Your cert key is <span class="keyword">in</span>  /root/<span class="selector-class">.acme</span><span class="selector-class">.sh</span>/bluelzy.com/bluelzy<span class="selector-class">.com</span><span class="selector-class">.key</span></span><br><span class="line">[Sat Mar <span class="number">17</span> <span class="number">22</span>:<span class="number">38</span>:<span class="number">56</span> EDT <span class="number">2018</span>] The intermediate CA cert is <span class="keyword">in</span>  /root/<span class="selector-class">.acme</span><span class="selector-class">.sh</span>/bluelzy.com/ca.cer</span><br><span class="line">[Sat Mar <span class="number">17</span> <span class="number">22</span>:<span class="number">38</span>:<span class="number">56</span> EDT <span class="number">2018</span>] And the full chain certs is there:  /root/<span class="selector-class">.acme</span><span class="selector-class">.sh</span>/bluelzy.com/fullchain.cer</span><br></pre></td></tr></table></figure>
<p>代表证书已经成功生成了！</p>
<h3 id="3-copy-安装证书"><a href="#3-copy-安装证书" class="headerlink" title="3.copy/安装证书"></a>3.copy/安装证书</h3><p>前面证书生成以后, 接下来需要把证书 copy 到真正需要用它的地方.</p>
<p>注意, 默认生成的证书都放在安装目录下: <code>~/.acme.sh/</code>, 请不要直接使用此目录下的文件, 例如: 不要直接让 nginx/apache 的配置文件使用这下面的文件. 这里面的文件都是内部使用, 而且目录结构可能会变化.</p>
<p>正确的使用方法是使用 <code>--installcert</code> 命令,并指定目标位置, 然后证书文件会被copy到相应的位置, 例如:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">acme<span class="selector-class">.sh</span>  --installcert  -d  &lt;domain&gt;<span class="selector-class">.com</span>   \</span><br><span class="line">        --key-file   /etc/nginx/ssl/&lt;domain&gt;<span class="selector-class">.key</span> \</span><br><span class="line">        --fullchain-file /etc/nginx/ssl/fullchain<span class="selector-class">.cer</span> \</span><br></pre></td></tr></table></figure>
<p>解释一下：</p>
<p>Nginx 的配置 <code>ssl_certificate</code> 使用 <code>/etc/nginx/ssl/fullchain.cer</code> ，而非 <code>/etc/nginx/ssl/&lt;domain&gt;.cer</code> ，否则 <a href="https://www.ssllabs.com/ssltest/" target="_blank" rel="noopener">SSL Labs</a> 的测试会报 <code>Chain issues Incomplete</code> 错误。</p>
<h3 id="4-修改配置文件"><a href="#4-修改配置文件" class="headerlink" title="4.修改配置文件"></a>4.修改配置文件</h3><p>打开nginx的配置文件，找到</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SSL证书配置</span></span><br><span class="line">       <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/bluelzy.com/fullchain.pem;</span><br><span class="line">       <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/bluelzy.com/privkey.pem;</span><br><span class="line">       <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line">       <span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">10m</span>;</span><br><span class="line">       <span class="attribute">ssl_session_timeout</span> <span class="number">10m</span>;</span><br></pre></td></tr></table></figure>
<p>把ssl_certificate路径换成：/etc/nginx/ssl/fullchain.cer</p>
<p>把ssl_certificate_key路径换成：/etc/nginx/ssl/<domain>.key</domain></p>
<p><strong>注意</strong>：如何你的证书不是保存在这个路径，请找到正确的路径，再修改！</p>
<p>保存后执行一下：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">service nginx force-reload</span></span><br></pre></td></tr></table></figure>
<p>(一个小提醒, 这里用的是 <code>service nginx force-reload</code>, 不是 <code>service nginx reload</code>, 据测试, <code>reload</code> 并不会重新加载证书, 所以用的 <code>force-reload</code>)</p>
<p>再刷新自己的网站~就能看到证书已经被更新啦！！！</p>
<p><a href="http://www.wailian.work/image/MyiBOt" target="_blank" rel="noopener"><img src="http://www.wailian.work/images/2018/03/18/Snip20180318_51.png" alt="Snip20180318_51.png"></a></p>
<h3 id="5-更新证书"><a href="#5-更新证书" class="headerlink" title="5.更新证书"></a>5.更新证书</h3><p>目前证书在 60 天以后会自动更新, 你无需任何操作. 今后有可能会缩短这个时间, 不过都是自动的, 你不用关心.</p>
<h3 id="6-更新acme-sh"><a href="#6-更新acme-sh" class="headerlink" title="6.更新acme.sh"></a>6.更新acme.sh</h3><p>目前由于 acme 协议和 letsencrypt CA 都在频繁的更新, 因此 acme.sh 也经常更新以保持同步.</p>
<p>升级 acme.sh 到最新版 :</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme<span class="selector-class">.sh</span> --upgrade</span><br></pre></td></tr></table></figure>
<p>如果你不想手动升级, 可以开启自动升级:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme<span class="selector-class">.sh</span>  --upgrade  --<span class="attribute">auto</span>-upgrade</span><br></pre></td></tr></table></figure>
<p>之后, acme.sh 就会自动保持更新了.</p>
<p>你也可以随时关闭自动更新:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme<span class="selector-class">.sh</span> --upgrade  --<span class="attribute">auto</span>-upgrade  <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>开启自动更新：</p>
<p><a href="http://www.wailian.work/image/Myb7Hk" target="_blank" rel="noopener"><img src="http://www.wailian.work/images/2018/03/18/Snip20180318_55.png" alt="Snip20180318_55.png"></a></p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><h4 id="第一个坑"><a href="#第一个坑" class="headerlink" title="第一个坑"></a>第一个坑</h4><p>在第二步中：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme<span class="selector-class">.sh</span>  --issue  -d bluelzy<span class="selector-class">.com</span> -d www<span class="selector-class">.bluelzy</span><span class="selector-class">.com</span>  --webroot  /var/www/bluelzy.com</span><br></pre></td></tr></table></figure>
<p>webroot:参数是网站的根目录，否则会报错无法验证域名</p>
<h4 id="第二个坑"><a href="#第二个坑" class="headerlink" title="第二个坑"></a>第二个坑</h4><p>在第三步中：</p>
<p>如果复制的文件夹不存在，那么需要先创建文件夹，再执行命令。</p>
<div class="note primary"><p>参考 </p>
<p><a href="https://github.com/Neilpang/acme.sh/wiki/%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener">acme.sh官方文档(中文)</a></p>
<p><a href="https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc" target="_blank" rel="noopener">acme.sh官方文档(英文)</a></p>
<p><a href="https://github.com/Neilpang/acme.sh/issues/779" target="_blank" rel="noopener">报错：Invalid response from (website)</a></p></div>
<hr>]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> https </tag>
            
            <tag> ACME </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Activity传值与回传]]></title>
      <url>/articles/activity_transmit_value.html</url>
      <content type="html"><![CDATA[<p>记录一个基础问题， Activity传值与回传，后面遇到类似的问题就不用再问人了。</p>
<a id="more"></a>
<h1 id="Activity传值与回传"><a href="#Activity传值与回传" class="headerlink" title="Activity传值与回传"></a>Activity传值与回传</h1><p>Android Developers: <a href="https://developer.android.com/training/basics/intents/result.html?hl=zh-cn#StartActivity" target="_blank" rel="noopener">获取Activity的结果</a></p>
<p>链接只讲了怎么获取返回的数据，没有写返回数据的方法。</p>
<p>假设</p>
<p>FirstActivity 为初始Activity，SecondActivity 为跳转Activity</p>
<p>首先</p>
<p>在FirstActivity 通过startActivityForResult(Intent intent, int requestCode) 方法跳转Activity</p>
<p>Intent i = new Intent(FirstActivity.this, SecondActivity.class)</p>
<p>startActivityForResult(i,requestCode);</p>
<p>然后</p>
<p>在FirstActivity 重写 onActivityResult(int requestCode, int resultCode, Intent data)方法</p>
<p>三个参数分别为：请求码，返回码，返回数据</p>
<p>switch (requestCode) {</p>
<p>   case requestCode:</p>
<p>​       if (resultCode == RESULT_OK) {</p>
<p>​            // do something</p>
<p>​       }</p>
<p>​       break;</p>
<p>最后</p>
<p>在SecondActivity 通过setResult(int resultCode, Intent data)方法返回数据</p>
<p>参数为：返回码，返回数据</p>
<p>Intent i = new Intent();</p>
<p>i.putExtra(“bean”,bean);</p>
<p>this.setResult(RESULT_OK,i);</p>
<p>finish();</p>
<p>即可在FirstActivity 的onActivityResult()方法中接收到回传的数据。</p>
<hr>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Android </tag>
            
            <tag> Android基础 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[使用腾讯地图SDK的自动补全功能]]></title>
      <url>/articles/tencent_map_search.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>上一篇讲了高德地图的自动补全</p>
<p>这一篇来讲一讲腾讯地图的使用</p>
<p>大体上都差不多，只是集成步骤有点区别而已…</p>
</blockquote>
 <a id="more"></a>
<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>本文只使用了腾讯地图的 <strong>自动提示</strong> 功能</p>
<p>本文只使用了腾讯地图的 <strong>自动提示</strong> 功能</p>
<p>本文只使用了腾讯地图的 <strong>自动提示</strong> 功能</p>
<p>其他2D，3D，地图街景等功能请自行查阅官方文档</p>
<p>另外，如果想用高德地图的朋友</p>
<p>请看我的上一篇博客：<a href="https://www.bluelzy.com/articles/amap_search.html">使用高德地图SDK的自动补全功能</a></p>
<h1 id="一、集成腾讯地图SDK"><a href="#一、集成腾讯地图SDK" class="headerlink" title="一、集成腾讯地图SDK"></a>一、集成腾讯地图SDK</h1><p>1.集成检索SDK有两种方法 - 基于AS，使用Eclipse的童鞋请参考官方文档</p>
<h5 id="使用-maven"><a href="#使用-maven" class="headerlink" title="使用 maven"></a>使用 maven</h5><p>矢量地图 v4.0.3.2 开始支持 maven 配置地图sdk，配置方法：</p>
<p>工程顶级 gradle.properties 文件中加入：</p>
<figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">maven&#123;</span><br><span class="line">        <span class="attribute">url "https</span>://oss<span class="variable">.sonatype</span><span class="variable">.org</span>/content/groups/public"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>module build.gradle 文件中添加依赖库名称：</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dependencies</span> &#123;</span><br><span class="line">    //这里始终使用最新的稳定版本，用户也可以指定 <span class="number">4.0</span>.3.2 之后的地图 sdk 版本号</span><br><span class="line">    <span class="built_in">compile</span> 'com.tencent.<span class="built_in">map</span>:tencent-<span class="built_in">map</span>-<span class="built_in">vector</span>-sdk:latest.release'</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>使用JAR包</strong></p>
<p>下载地址：<a href="http://lbs.qq.com/android_v1/log_search.html" target="_blank" rel="noopener">http://lbs.qq.com/android_v1/log_search.html</a></p>
<p>解压并且把TencentSearch_v1.x.x.jar 加入到libs目录下，右键add as library</p>
<p>参考文档：<a href="http://lbs.qq.com/android_v1/guide-project-setup.html" target="_blank" rel="noopener">http://lbs.qq.com/android_v1/guide-project-setup.html</a></p>
<p>这样就完成了第一步。</p>
<p>2.申请key</p>
<p>申请开发者账号：<a href="http://lbs.qq.com/console/user_info.html" target="_blank" rel="noopener">http://lbs.qq.com/console/user_info.html</a></p>
<p>需要填写手机和邮箱</p>
<p>进入控制台以后，就可以看到自己的KEY的，在授权应用设置自己的包名</p>
<p>3.在app -&gt; AndroidManifest.xml 加入：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta-data</span><br><span class="line">      android:<span class="attribute">name</span>=<span class="string">"TencentMapSDK"</span></span><br><span class="line">      android:<span class="attribute">value</span>=<span class="string">"输入申请的开发者权限"</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>4.混淆</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#腾讯地图检索sdk</span><br><span class="line">-<span class="ruby">keep <span class="class"><span class="keyword">class</span> <span class="title">com</span>.<span class="title">tencent</span>.<span class="title">lbssearch</span>.**&#123;*;</span>&#125;</span></span><br><span class="line"><span class="ruby">-keep <span class="class"><span class="keyword">class</span> <span class="title">com</span>.<span class="title">google</span>.<span class="title">gson</span>.<span class="title">examples</span>.<span class="title">android</span>.<span class="title">model</span>.** &#123; *;</span> &#125;</span></span><br></pre></td></tr></table></figure>
<p>完成了工程设置以后，就是撸代码的时间了~</p>
<h1 id="二、开始撸代码"><a href="#二、开始撸代码" class="headerlink" title="二、开始撸代码"></a>二、开始撸代码</h1><p>1，创建activity_poi_keyword_search.xml布局文件，如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/et_keyword"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/white"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">"请输入地址关键字搜索"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingLeft</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@color/deep_black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14sp"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">View</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"1dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/line_color"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/recyclerView"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">android.support.v7.widget.RecyclerView</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2，创建recyclerview的item布局item_poi_keyword_search.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/ll_item_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/white"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">View</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"0.5dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/line_color"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingBottom</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingLeft</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingRight</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingTop</span>=<span class="string">"8dp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_detailAddress"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textColor</span>=<span class="string">"@color/deep_black"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textColor</span>=<span class="string">"@color/black"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3，创建实体类PoiAddressBean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PoiAddressBean</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String longitude;<span class="comment">//经度</span></span><br><span class="line">    <span class="keyword">private</span> String latitude;<span class="comment">//纬度</span></span><br><span class="line">    <span class="keyword">private</span> String text;<span class="comment">//信息内容</span></span><br><span class="line">    <span class="keyword">public</span>  String detailAddress;<span class="comment">//详细地址</span></span><br><span class="line">    <span class="keyword">public</span>  String province;<span class="comment">//省</span></span><br><span class="line">    <span class="keyword">public</span>  String city;<span class="comment">//城市</span></span><br><span class="line">    <span class="keyword">public</span>  String district;<span class="comment">//区域</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PoiAddressBean</span><span class="params">(String lon, String lat, String detailAddress, String text, String province, String city, String district)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.longitude = lon;</span><br><span class="line">        <span class="keyword">this</span>.latitude = lat;</span><br><span class="line">        <span class="keyword">this</span>.text = text;</span><br><span class="line">        <span class="keyword">this</span>.detailAddress = detailAddress;</span><br><span class="line">        <span class="keyword">this</span>.province = province;</span><br><span class="line">        <span class="keyword">this</span>.city = city;</span><br><span class="line">        <span class="keyword">this</span>.district = district;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLongitude</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> longitude;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLatitude</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> latitude;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getText</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> text;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDetailAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> detailAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getProvince</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> province;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> city;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDistrict</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> district;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4，创建适配器PoiKeywordSearchAdapter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.RecyclerView;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.activity.PoiKeywordSearchActivity;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.R;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.bean.PoiAddressBean;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PoiKeywordSearchAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">PoiKeywordSearchAdapter</span>.<span class="title">MyViewHolder</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    List&lt;PoiAddressBean&gt; poiAddressBean;</span><br><span class="line">    Context mContext;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PoiKeywordSearchAdapter</span><span class="params">(Context context, List&lt;PoiAddressBean&gt; poiAddressBean)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.poiAddressBean  = poiAddressBean;</span><br><span class="line">        <span class="keyword">this</span>.mContext = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span> </span>&#123;</span><br><span class="line">        View view;</span><br><span class="line">        view = LayoutInflater.from(mContext).inflate(R.layout.item_poi_keyword_search, parent, <span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyViewHolder(view);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(MyViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> PoiAddressBean poiAddressBean = <span class="keyword">this</span>.poiAddressBean.get(position);</span><br><span class="line">        holder.tv_detailAddress.setText(poiAddressBean.getDetailAddress());</span><br><span class="line">        holder.tv_content.setText(poiAddressBean.getText());</span><br><span class="line">        holder.ll_item_layout.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                ((PoiKeywordSearchActivity)mContext).setDetailAddress(poiAddressBean.getDetailAddress());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (poiAddressBean != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> poiAddressBean.size();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">MyViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        TextView     tv_content;</span><br><span class="line">        TextView     tv_detailAddress;</span><br><span class="line">        LinearLayout ll_item_layout;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(itemView);</span><br><span class="line">            tv_detailAddress = (TextView) itemView.findViewById(R.id.tv_detailAddress);</span><br><span class="line">            tv_content = (TextView) itemView.findViewById(R.id.tv_content);</span><br><span class="line">            ll_item_layout = (LinearLayout) itemView.findViewById(R.id.ll_item_layout);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>5，创建搜索界面类PoiKeywordSearchActivity</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.LinearLayoutManager;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.RecyclerView;</span><br><span class="line"><span class="keyword">import</span> android.text.Editable;</span><br><span class="line"><span class="keyword">import</span> android.text.TextWatcher;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.R;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.adapter.PoiKeywordSearchAdapter;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.bean.PoiAddressBean;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.util.ToastUtil;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.AMapException;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.LatLonPoint;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.PoiItem;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.SuggestionCity;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.poisearch.PoiResult;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.poisearch.PoiSearch;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PoiKeywordSearchActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">PoiSearch</span>.<span class="title">OnPoiSearchListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> RecyclerView mRecyclerView;</span><br><span class="line">    <span class="keyword">private</span> EditText mEt_keyword;</span><br><span class="line">    <span class="keyword">private</span> String keyWord = <span class="string">""</span>;<span class="comment">// 要输入的poi搜索关键字</span></span><br><span class="line">    <span class="keyword">private</span> PoiResult poiResult; <span class="comment">// poi返回的结果</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> currentPage = <span class="number">0</span>;<span class="comment">// 当前页面，从0开始计数</span></span><br><span class="line">    <span class="keyword">private</span> PoiSearch.Query query;<span class="comment">// Poi查询条件类</span></span><br><span class="line">    <span class="keyword">private</span> PoiSearch       poiSearch;<span class="comment">// POI搜索</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_poi_keyword_search);</span><br><span class="line"></span><br><span class="line">        initView();</span><br><span class="line">        initListener();</span><br><span class="line">        initData();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mRecyclerView = (RecyclerView) findViewById(R.id.recyclerView);</span><br><span class="line">        mEt_keyword = (EditText) findViewById(R.id.et_keyword);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initListener</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mEt_keyword.addTextChangedListener(<span class="keyword">new</span> TextWatcher() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeTextChanged</span><span class="params">(CharSequence charSequence, <span class="keyword">int</span> i, <span class="keyword">int</span> i1, <span class="keyword">int</span> i2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTextChanged</span><span class="params">(CharSequence charSequence, <span class="keyword">int</span> i, <span class="keyword">int</span> i1, <span class="keyword">int</span> i2)</span> </span>&#123;</span><br><span class="line">                keyWord = String.valueOf(charSequence);</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">""</span>.equals(keyWord)) &#123;</span><br><span class="line">                    ToastUtil.show(PoiKeywordSearchActivity.<span class="keyword">this</span>,<span class="string">"请输入搜索关键字"</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    doSearchQuery();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterTextChanged</span><span class="params">(Editable editable)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 开始进行poi搜索</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doSearchQuery</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        currentPage = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//不输入城市名称有些地方搜索不到</span></span><br><span class="line">        query = <span class="keyword">new</span> PoiSearch.Query(keyWord, <span class="string">""</span>, <span class="string">"深圳"</span>);<span class="comment">// 第一个参数表示搜索字符串，第二个参数表示poi搜索类型，第三个参数表示poi搜索区域（空字符串代表全国）</span></span><br><span class="line">        <span class="comment">//这里没有做分页加载了,默认给50条数据</span></span><br><span class="line">        query.setPageSize(<span class="number">50</span>);<span class="comment">// 设置每页最多返回多少条poiitem</span></span><br><span class="line">        query.setPageNum(currentPage);<span class="comment">// 设置查第一页</span></span><br><span class="line"></span><br><span class="line">        poiSearch = <span class="keyword">new</span> PoiSearch(<span class="keyword">this</span>, query);</span><br><span class="line">        poiSearch.setOnPoiSearchListener(<span class="keyword">this</span>);</span><br><span class="line">        poiSearch.searchPOIAsyn();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mRecyclerView.setLayoutManager(<span class="keyword">new</span> LinearLayoutManager(<span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * POI信息查询回调方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPoiSearched</span><span class="params">(PoiResult result, <span class="keyword">int</span> rCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rCode == AMapException.CODE_AMAP_SUCCESS) &#123;</span><br><span class="line">            <span class="keyword">if</span> (result != <span class="keyword">null</span> &amp;&amp; result.getQuery() != <span class="keyword">null</span>) &#123;  <span class="comment">// 搜索poi的结果</span></span><br><span class="line">                <span class="keyword">if</span> (result.getQuery().equals(query)) &#123;  <span class="comment">// 是否是同一条</span></span><br><span class="line">                    poiResult = result;</span><br><span class="line">                    ArrayList&lt;PoiAddressBean&gt; data = <span class="keyword">new</span> ArrayList&lt;PoiAddressBean&gt;();<span class="comment">//自己创建的数据集合</span></span><br><span class="line">                    <span class="comment">// 取得搜索到的poiitems有多少页</span></span><br><span class="line">                    List&lt;PoiItem&gt; poiItems = poiResult.getPois();<span class="comment">// 取得第一页的poiitem数据，页数从数字0开始</span></span><br><span class="line">                    List&lt;SuggestionCity&gt; suggestionCities = poiResult</span><br><span class="line">                            .getSearchSuggestionCitys();<span class="comment">// 当搜索不到poiitem数据时，会返回含有搜索关键字的城市信息</span></span><br><span class="line">                    <span class="keyword">for</span>(PoiItem item : poiItems)&#123;</span><br><span class="line">                        <span class="comment">//获取经纬度对象</span></span><br><span class="line">                        LatLonPoint llp = item.getLatLonPoint();</span><br><span class="line">                        <span class="keyword">double</span> lon = llp.getLongitude();</span><br><span class="line">                        <span class="keyword">double</span> lat = llp.getLatitude();</span><br><span class="line"></span><br><span class="line">                        String title = item.getTitle();</span><br><span class="line">                        String text = item.getSnippet();</span><br><span class="line">                        String provinceName = item.getProvinceName();</span><br><span class="line">                        String cityName = item.getCityName();</span><br><span class="line">                        String adName = item.getAdName();</span><br><span class="line">                        data.add(<span class="keyword">new</span> PoiAddressBean(String.valueOf(lon), String.valueOf(lat), title, text,provinceName,</span><br><span class="line">                                cityName,adName));</span><br><span class="line">                    &#125;</span><br><span class="line">                    PoiKeywordSearchAdapter adapter = <span class="keyword">new</span> PoiKeywordSearchAdapter(PoiKeywordSearchActivity.<span class="keyword">this</span>,data);</span><br><span class="line">                    mRecyclerView.setAdapter(adapter);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ToastUtil.show(PoiKeywordSearchActivity.<span class="keyword">this</span>,</span><br><span class="line">                        getString(R.string.no_result));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ToastUtil.showerror(<span class="keyword">this</span>, rCode);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * POI信息查询回调方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPoiItemSearched</span><span class="params">(PoiItem item, <span class="keyword">int</span> rCode)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置详情地址</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> detailAddress</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDetailAddress</span><span class="params">(String detailAddress)</span> </span>&#123;</span><br><span class="line">        mEt_keyword.setText(detailAddress);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6.在AndroidManifest中注册PoiKeywordSearchActivity</p>
<p>7.在需要用到的地方startActivity跳转到PoiKeywordSearchActivity即可</p>
<hr>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Android </tag>
            
            <tag> 第三方控件 </tag>
            
            <tag> 腾讯地图 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[使用高德地图SDK的自动补全功能]]></title>
      <url>/articles/amap_search.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>2018转眼即至 又是新的一年</p>
<p>祝大家新年大吉，狗年旺旺！</p>
<p>本文：使用<strong>高德地图SDK的自动补全地址功能</strong></p>
</blockquote>
 <a id="more"></a>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近一直加班赶项目进度，有很多想写的博客都没时间写，趁过年抽空把遇到的问题和一些心得记下来，这一篇是介绍如何使用<strong>高德地图SDK的自动补全地址功能</strong>。</p>
<h1 id="一、集成高德地图SDK"><a href="#一、集成高德地图SDK" class="headerlink" title="一、集成高德地图SDK"></a>一、集成高德地图SDK</h1><p>下载地址：<a href="http://lbs.amap.com/api/android-sdk/download/" target="_blank" rel="noopener">http://lbs.amap.com/api/android-sdk/download/</a></p>
<p>解压，把jar包复制到libs文件夹，右键add as library</p>
<p>因为之前项目已经集成高德地图了，所以申请秘钥，加入权限，这些步骤就省略了。</p>
<h1 id="二、创建搜索代码"><a href="#二、创建搜索代码" class="headerlink" title="二、创建搜索代码"></a>二、创建搜索代码</h1><p>1，创建activity_poi_keyword_search.xml布局文件，如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/et_keyword"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/white"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">"请输入地址关键字搜索"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingLeft</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@color/deep_black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14sp"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">View</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"1dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/line_color"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/recyclerView"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">android.support.v7.widget.RecyclerView</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2，创建recyclerview的item布局item_poi_keyword_search.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/ll_item_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/white"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">View</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"0.5dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/line_color"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingBottom</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingLeft</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingRight</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:paddingTop</span>=<span class="string">"8dp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_detailAddress"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textColor</span>=<span class="string">"@color/deep_black"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textColor</span>=<span class="string">"@color/black"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3，创建实体类PoiAddressBean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PoiAddressBean</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String longitude;<span class="comment">//经度</span></span><br><span class="line">    <span class="keyword">private</span> String latitude;<span class="comment">//纬度</span></span><br><span class="line">    <span class="keyword">private</span> String text;<span class="comment">//信息内容</span></span><br><span class="line">    <span class="keyword">public</span>  String detailAddress;<span class="comment">//详细地址</span></span><br><span class="line">    <span class="keyword">public</span>  String province;<span class="comment">//省</span></span><br><span class="line">    <span class="keyword">public</span>  String city;<span class="comment">//城市</span></span><br><span class="line">    <span class="keyword">public</span>  String district;<span class="comment">//区域</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PoiAddressBean</span><span class="params">(String lon, String lat, String detailAddress, String text, String province, String city, String district)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.longitude = lon;</span><br><span class="line">        <span class="keyword">this</span>.latitude = lat;</span><br><span class="line">        <span class="keyword">this</span>.text = text;</span><br><span class="line">        <span class="keyword">this</span>.detailAddress = detailAddress;</span><br><span class="line">        <span class="keyword">this</span>.province = province;</span><br><span class="line">        <span class="keyword">this</span>.city = city;</span><br><span class="line">        <span class="keyword">this</span>.district = district;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLongitude</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> longitude;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLatitude</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> latitude;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getText</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> text;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDetailAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> detailAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getProvince</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> province;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> city;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDistrict</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> district;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4，创建适配器PoiKeywordSearchAdapter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.RecyclerView;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.activity.PoiKeywordSearchActivity;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.R;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.bean.PoiAddressBean;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PoiKeywordSearchAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">PoiKeywordSearchAdapter</span>.<span class="title">MyViewHolder</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    List&lt;PoiAddressBean&gt; poiAddressBean;</span><br><span class="line">    Context mContext;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PoiKeywordSearchAdapter</span><span class="params">(Context context, List&lt;PoiAddressBean&gt; poiAddressBean)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.poiAddressBean  = poiAddressBean;</span><br><span class="line">        <span class="keyword">this</span>.mContext = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span> </span>&#123;</span><br><span class="line">        View view;</span><br><span class="line">        view = LayoutInflater.from(mContext).inflate(R.layout.item_poi_keyword_search, parent, <span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyViewHolder(view);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(MyViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> PoiAddressBean poiAddressBean = <span class="keyword">this</span>.poiAddressBean.get(position);</span><br><span class="line">        holder.tv_detailAddress.setText(poiAddressBean.getDetailAddress());</span><br><span class="line">        holder.tv_content.setText(poiAddressBean.getText());</span><br><span class="line">        holder.ll_item_layout.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                ((PoiKeywordSearchActivity)mContext).setDetailAddress(poiAddressBean.getDetailAddress());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (poiAddressBean != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> poiAddressBean.size();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">MyViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        TextView     tv_content;</span><br><span class="line">        TextView     tv_detailAddress;</span><br><span class="line">        LinearLayout ll_item_layout;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(itemView);</span><br><span class="line">            tv_detailAddress = (TextView) itemView.findViewById(R.id.tv_detailAddress);</span><br><span class="line">            tv_content = (TextView) itemView.findViewById(R.id.tv_content);</span><br><span class="line">            ll_item_layout = (LinearLayout) itemView.findViewById(R.id.ll_item_layout);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>5，创建搜索界面类PoiKeywordSearchActivity</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.LinearLayoutManager;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.RecyclerView;</span><br><span class="line"><span class="keyword">import</span> android.text.Editable;</span><br><span class="line"><span class="keyword">import</span> android.text.TextWatcher;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.R;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.adapter.PoiKeywordSearchAdapter;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.bean.PoiAddressBean;</span><br><span class="line"><span class="keyword">import</span> com.alpha58.poidemo.util.ToastUtil;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.AMapException;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.LatLonPoint;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.PoiItem;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.core.SuggestionCity;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.poisearch.PoiResult;</span><br><span class="line"><span class="keyword">import</span> com.amap.api.services.poisearch.PoiSearch;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PoiKeywordSearchActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">PoiSearch</span>.<span class="title">OnPoiSearchListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> RecyclerView mRecyclerView;</span><br><span class="line">    <span class="keyword">private</span> EditText mEt_keyword;</span><br><span class="line">    <span class="keyword">private</span> String keyWord = <span class="string">""</span>;<span class="comment">// 要输入的poi搜索关键字</span></span><br><span class="line">    <span class="keyword">private</span> PoiResult poiResult; <span class="comment">// poi返回的结果</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> currentPage = <span class="number">0</span>;<span class="comment">// 当前页面，从0开始计数</span></span><br><span class="line">    <span class="keyword">private</span> PoiSearch.Query query;<span class="comment">// Poi查询条件类</span></span><br><span class="line">    <span class="keyword">private</span> PoiSearch       poiSearch;<span class="comment">// POI搜索</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_poi_keyword_search);</span><br><span class="line"></span><br><span class="line">        initView();</span><br><span class="line">        initListener();</span><br><span class="line">        initData();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mRecyclerView = (RecyclerView) findViewById(R.id.recyclerView);</span><br><span class="line">        mEt_keyword = (EditText) findViewById(R.id.et_keyword);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initListener</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mEt_keyword.addTextChangedListener(<span class="keyword">new</span> TextWatcher() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeTextChanged</span><span class="params">(CharSequence charSequence, <span class="keyword">int</span> i, <span class="keyword">int</span> i1, <span class="keyword">int</span> i2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTextChanged</span><span class="params">(CharSequence charSequence, <span class="keyword">int</span> i, <span class="keyword">int</span> i1, <span class="keyword">int</span> i2)</span> </span>&#123;</span><br><span class="line">                keyWord = String.valueOf(charSequence);</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">""</span>.equals(keyWord)) &#123;</span><br><span class="line">                    ToastUtil.show(PoiKeywordSearchActivity.<span class="keyword">this</span>,<span class="string">"请输入搜索关键字"</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    doSearchQuery();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterTextChanged</span><span class="params">(Editable editable)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 开始进行poi搜索</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doSearchQuery</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        currentPage = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//不输入城市名称有些地方搜索不到</span></span><br><span class="line">        query = <span class="keyword">new</span> PoiSearch.Query(keyWord, <span class="string">""</span>, <span class="string">"深圳"</span>);<span class="comment">// 第一个参数表示搜索字符串，第二个参数表示poi搜索类型，第三个参数表示poi搜索区域（空字符串代表全国）</span></span><br><span class="line">        <span class="comment">//这里没有做分页加载了,默认给50条数据</span></span><br><span class="line">        query.setPageSize(<span class="number">50</span>);<span class="comment">// 设置每页最多返回多少条poiitem</span></span><br><span class="line">        query.setPageNum(currentPage);<span class="comment">// 设置查第一页</span></span><br><span class="line"></span><br><span class="line">        poiSearch = <span class="keyword">new</span> PoiSearch(<span class="keyword">this</span>, query);</span><br><span class="line">        poiSearch.setOnPoiSearchListener(<span class="keyword">this</span>);</span><br><span class="line">        poiSearch.searchPOIAsyn();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mRecyclerView.setLayoutManager(<span class="keyword">new</span> LinearLayoutManager(<span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * POI信息查询回调方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPoiSearched</span><span class="params">(PoiResult result, <span class="keyword">int</span> rCode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rCode == AMapException.CODE_AMAP_SUCCESS) &#123;</span><br><span class="line">            <span class="keyword">if</span> (result != <span class="keyword">null</span> &amp;&amp; result.getQuery() != <span class="keyword">null</span>) &#123;  <span class="comment">// 搜索poi的结果</span></span><br><span class="line">                <span class="keyword">if</span> (result.getQuery().equals(query)) &#123;  <span class="comment">// 是否是同一条</span></span><br><span class="line">                    poiResult = result;</span><br><span class="line">                    ArrayList&lt;PoiAddressBean&gt; data = <span class="keyword">new</span> ArrayList&lt;PoiAddressBean&gt;();<span class="comment">//自己创建的数据集合</span></span><br><span class="line">                    <span class="comment">// 取得搜索到的poiitems有多少页</span></span><br><span class="line">                    List&lt;PoiItem&gt; poiItems = poiResult.getPois();<span class="comment">// 取得第一页的poiitem数据，页数从数字0开始</span></span><br><span class="line">                    List&lt;SuggestionCity&gt; suggestionCities = poiResult</span><br><span class="line">                            .getSearchSuggestionCitys();<span class="comment">// 当搜索不到poiitem数据时，会返回含有搜索关键字的城市信息</span></span><br><span class="line">                    <span class="keyword">for</span>(PoiItem item : poiItems)&#123;</span><br><span class="line">                        <span class="comment">//获取经纬度对象</span></span><br><span class="line">                        LatLonPoint llp = item.getLatLonPoint();</span><br><span class="line">                        <span class="keyword">double</span> lon = llp.getLongitude();</span><br><span class="line">                        <span class="keyword">double</span> lat = llp.getLatitude();</span><br><span class="line"></span><br><span class="line">                        String title = item.getTitle();</span><br><span class="line">                        String text = item.getSnippet();</span><br><span class="line">                        String provinceName = item.getProvinceName();</span><br><span class="line">                        String cityName = item.getCityName();</span><br><span class="line">                        String adName = item.getAdName();</span><br><span class="line">                        data.add(<span class="keyword">new</span> PoiAddressBean(String.valueOf(lon), String.valueOf(lat), title, text,provinceName,</span><br><span class="line">                                cityName,adName));</span><br><span class="line">                    &#125;</span><br><span class="line">                    PoiKeywordSearchAdapter adapter = <span class="keyword">new</span> PoiKeywordSearchAdapter(PoiKeywordSearchActivity.<span class="keyword">this</span>,data);</span><br><span class="line">                    mRecyclerView.setAdapter(adapter);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ToastUtil.show(PoiKeywordSearchActivity.<span class="keyword">this</span>,</span><br><span class="line">                        getString(R.string.no_result));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ToastUtil.showerror(<span class="keyword">this</span>, rCode);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * POI信息查询回调方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPoiItemSearched</span><span class="params">(PoiItem item, <span class="keyword">int</span> rCode)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置详情地址</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> detailAddress</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDetailAddress</span><span class="params">(String detailAddress)</span> </span>&#123;</span><br><span class="line">        mEt_keyword.setText(detailAddress);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6.在AndroidManifest中注册PoiKeywordSearchActivity</p>
<p>7.在需要用到的地方startActivity跳转到PoiKeywordSearchActivity即可</p>
<h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><p>除了高德地图，我还试了一下腾讯地图SDK的自动提示功能。</p>
<p>对比了一下，感觉还是腾讯的地址提示更接近常用的选项，目前已经从高德转到腾讯了。</p>
<p>文章地址：<a href="https://www.bluelzy.com/articles/tencent_map_search.html">使用腾讯地图SDK的自动补全功能</a></p>
<hr>
]]></content>
      
        <categories>
            
            <category> Android </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Android </tag>
            
            <tag> 高德地图 </tag>
            
            <tag> 第三方控件 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[电影-无问西东]]></title>
      <url>/articles/forever_young.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>如果提前了解了你所要面对的人生</p>
<p>你是否还会有勇气前来？</p>
<p>《无问西东》有感</p>
</blockquote>
 <a id="more"></a>
<h1 id="流水账"><a href="#流水账" class="headerlink" title="流水账"></a>流水账</h1><p>今天是2018年1月21日，下午约了几个朋友一起去看电影，听说最近《无问西东》很火，经常看到宣传的海报，加上周围的人也是好评不断，于是就定了这部。</p>
<p>在看之前并没有了解过这部电影是说什么的，直接在猫眼上买了票，就直奔电影院而去。结果到电影院的时候，已经开场了（晚了两分钟），荧幕上张果果（张震饰）在说什么商业，背叛的，几个人互相看了一眼，低声说 “不会是走错片场了吧”，把票又拿出来反复看了两遍，发现没有，好吧，于是接着看下去。</p>
<p>电影看完了，看到周围很多人都在偷偷的抹眼泪，自己也是从中感受到震撼和感动。于是就有了这篇观后感。</p>
<p><strong>接下来内容有大量剧透 请谨慎食用</strong></p>
<hr>



<h1 id="观后感"><a href="#观后感" class="headerlink" title="观后感"></a>观后感</h1><p>首先交代一下故事背景，这篇电影是清华大学宣传片，里面出现了很多影响时代的大人物，包括梅贻琦、梁启超、徐志摩、陈演恪等等大师级的人物，通过一条主线把整部电影想表达的主题 “真、善、美” 给串联出来。</p>
<p>整部电影分为四个小故事。</p>
<hr>

<p>第一个是陈楚生饰演的一个文科很好，但是选择读理科的学生，他在1923年的时候于清华求学，这个时候是他人生中迷茫找不到方向的时候，当时的校长-梅贻琦，把他叫到办公室，对他说了这样一番话</p>
<blockquote>
<p>人把自己置身于忙碌当中，有一种麻木的踏实，但丧失了真实，你的青春也不过只有这些日子。什么是真实：你看到什么，听到什么，做什么，和谁在一起。</p>
</blockquote>
<p>这段话在我看电影的时候，深深感到震撼，或者说触碰到内心深处的一段话。</p>
<p>可能因为我正值青春，和求学的陈楚生差不多的年纪，自然也有着对未来不确定，对人生迷茫的时候，这段话想表达的意思其实就是：</p>
<blockquote>
<p>去做你真正想做的事，而不是别人希望你去做的事</p>
</blockquote>
<p>别人说公务员好，稳定不辛苦，难道就是自己想要的 “真实” 吗？</p>
<p>别人说有车有房就是成功，甚至攀比，炫耀，难道这也是想要的 “真实” 吗？</p>
<p>就像唐朝的以胖为美，到现在流行的A4腰，筷子腿。时代在变化，普罗大众也总是习惯将主流价值观当成是自己内心的方向。但是真正能传承下去的，只有那些能给人带来力量，甚至信仰的事物。</p>
<p>这就是电影中说的 “他们身上都有一种淡定从容的气质，让我羡慕不已”</p>
<p>找到那件能够让你废寝忘食，甚至一直盘旋在你的脑海里，只要有时间就会去做的事，那就是“真实”。</p>
<p>第二个故事是193X年，西南联合大学在云南昆明成立，这中间经历了多少的艰苦和长途跋涉，当时的条件有多苦难，大家可以去了解一下。</p>
<p>这里举些例子：</p>
<blockquote>
<p>法律研究所的费青，将家中全部藏书出售，只换了三千块国币；</p>
<p>校长梅贻琦，曾任中华民国教育部部长，为了组建学生服务社，好赚点外快补贴老师们的拮据生活，卖掉了自己所有值钱的东西。</p>
<p>有次上课时迟到了，他歉疚地解释：“我刚才在街上给我内人的糕点摊守摊，她去进货了，可她办事不利，我告诉她八点我有课，她七点半还没回来，我只好丢下摊，跑来了，不过，今天点心卖得特好，有钱挣啊！”</p>
<p>同学们却纷纷拭泪，他们知道校长为了办学变卖了值钱的家当，连师母都得去街上卖早点。</p>
<p>梅贻琦的一儿一女也在联大读书，按规定，联大学生都能领取救济，但梅贻琦不让自己的孩子领取。<strong>后来梅贻琦，把儿女都送去参军。</strong></p>
<p>闻一多为了补贴家用，刻章卖钱。刻章广告由其他教授操刀：“浠水闻一多教授，文坛先进，经学名家，辨文字于毫芒，几人知己；谈风雅之原始，海内推崇……爰缀短言为引，公定薄润于后。”</p>
<p>落款署着梅贻琦、蒋梦麟、冯友兰、唐兰、朱自清、沈从文等十二位先生的名字。</p>
</blockquote>
<p>回归到电影。</p>
<p>这个故事里面的主角-王力宏，饰演的是一位富家子弟，最终选择弃笔从戎，成为了一名飞行员，最终在与日军的交战中撞向敌军战舰光荣牺牲。</p>
<p>其实在今天的社会主流观点看来，他就是一个标准的富二代，三代五将，根本不需要去昆明过这种苦日子，甚至是付出自己的生命。但是也正因为这种反差，才更让人觉得，在国家有难的时候，总是会有人勇敢地站出来捍卫自己的国家和民族尊严，也正因为有这些热血先烈的付出和牺牲，才换来了今天我们幸福宁静的生活。</p>
<blockquote>
<p><strong>华北之大，已经安放不下一张平静的书桌了！”</strong>  — 清华大学校长蒋南翔</p>
</blockquote>
<p>第三个故事是196X年的时候，发生在陈鹏（黄晓明），李想，王敏佳（章子怡），三个人的故事，这段主要是爱情以及人性的黑暗面，剧情就不透露了。直接说说我的感想吧。在王敏佳被众人批斗的时候，李想选择为了自己的前途而后退，王敏佳站在批斗台上带着笑意望向李想，为他有了更光明的前途而高兴的时候，人性中的黑暗和善良交织在一起，形成了强烈的对照。</p>
<p>人性中的“善” 往往比光明的前途，更重要。</p>
<p>最后一个故事就是当代啦。张果果（张震）被出卖，背叛，高管之间的勾心斗角，仿佛就是现在办公室里经常能看到的剧情。</p>
<p>在纠结了很久之后，他还是选择了遵循自己的内心，不求回报的帮助有需要的人，并且守住了自己的“善”，没有因为上司的出卖，而选择报复。</p>
<p>这几个故事不是完全独立开来的，每一个前人的选择都直接或者间接影响了后面的人，这个也是这部电影想表达的态度，人们总是由于各种各样的关系连接在一起，没有谁是完全孤立的个体，我们应当尽力去做的就是：</p>
<p>不忘初心，保持对这个世界最大的善意。</p>
<p>还有，好好读书！</p>
<h1 id="附上最后的旁白"><a href="#附上最后的旁白" class="headerlink" title="附上最后的旁白"></a>附上最后的旁白</h1><blockquote>
<p>看到和听到的，经常令你们沮丧，世俗是这样强大，强大到生不出改变它们的念头。</p>
<p>可是如果有机会提前了解了你们的人生，知道青春也不过只有这些日子，</p>
<p>不知你们是否还会在意的，那些世俗让你们在意的事情，比如占有多少，才更荣耀，拥有什么，才能被爱。 </p>
<p>等你们长大，你们因绿芽冒出土地而喜悦，会对出生的朝阳欢呼雀跃，也会给别人善意和温暖，但是却会在赞美别的生命的同时，常常，甚至永远忘了自己的珍贵。</p>
<p>愿你在被打击的时，记起你的珍贵，抵抗恶意；愿你在迷茫时，坚信你的珍贵，</p>
<p>爱你所爱，行你所行，听从你心，无问西东</p>
</blockquote>
<p>以及个人觉得好的台词：</p>
<blockquote>
<p>不要放弃，对自己的思索，对自己的真实。</p>
<p>这些人站在那里，自信而笃定，那种从容让我十分羡慕。</p>
<p>今哀鸿遍野，饿殍满地，儿岂敢言累</p>
<p>你所能的到的名利光荣，祖上早就有了。妈妈只希望你过上自己想要的幸福生活，平安。</p>
<p>这个时代缺的不是完美的人，而是从心底给出的真心，正义，无畏与同情。</p>
</blockquote>
<p>如果大家对于，善良，真诚，梦想，正义，这些老掉牙的词还抱有希望的话，这部片子应该也会符合你的口味。</p>
<p>以上仅代表个人观点，不接受批评反驳O(∩_∩)O！</p>
<hr>]]></content>
      
        <categories>
            
            <category> 日常说 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 电影 </tag>
            
            <tag> 无问西东 </tag>
            
            <tag> 日常 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[哪有什么真正的言论自由？]]></title>
      <url>/articles/say_something_about_zhihu.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>我是一个极少在社交平台发表言论的人</p>
<p>昨天在知乎上首次回答一个问题，就是关于Hexo加入评论系统的</p>
<p>知乎地址：<a href="https://www.zhihu.com/question/52779874" target="_blank" rel="noopener">有哪些不用登陆的Hexo评论系统？</a></p>
<p>居然就被知乎封号了…</p>
</blockquote>
 <a id="more"></a>
<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>当时忘了截图了，我的回答大概就是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">推荐Valine，附上我的博客以及官方文档</span><br><span class="line"></span><br><span class="line">我的博客链接</span><br><span class="line"></span><br><span class="line">官网文档链接</span><br></pre></td></tr></table></figure>
<p>over.就是这么简单</p>
<p>然后就被告知，需要发短信恢复账号使用</p>
<p>知乎没有告诉我，到底违反了什么条例，也没有警告。莫名其妙就被停用了。</p>
<h1 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h1><p>于是，只能发短信去恢复使用</p>
<p><img src="http://s1.wailian.download/2018/01/20/article_20180120.jpg" alt="article_20180120.jpg"></p>
<p>发完短信以后，知乎还是恢复了我的账号使用，但是并没有告知我到底违反了哪一条规定。</p>
<p>于是自己去搜索，结果发现和我一样有相同遭遇，甚至比我更惨的人，不在少数。</p>
<h1 id="吐槽"><a href="#吐槽" class="headerlink" title="吐槽"></a>吐槽</h1><p>其实我想说的是，既然我违反了条例，为什么你不能通知我，然后让我修改或者删除答案，而是直接停用账号呢？</p>
<p>这就好比，我欠了电费，你不是把欠费通知单发给我，告知我欠费详情，然后给个期限让我缴费，<strong>而是直接把我的房子都收回去了</strong>。</p>
<p>我的收藏，我支持的live，这些难道就因为这一个回答，全都受影响了吗？</p>
<p>知乎作为一个知识分享平台，尚且如此，那么其他平台，对于网友言论的掌控力度，是不是有过之而无不及呢。这样想想，真是有点细思极恐。</p>
<p>这可能也是，我宁愿在国外买主机，买域名，搭博客，都不愿在在国内备案的原因吧。</p>
<p>起码，还能有一个让自己说点真心话的地方。</p>
<p>最后附上一些链接，有兴趣的可以点进去看看：</p>
<p><a href="https://www.zhihu.com/question/20709896" target="_blank" rel="noopener">知乎账号被停用，如何恢复？</a></p>
<p><a href="https://www.zhihu.com/question/21477367" target="_blank" rel="noopener">知乎账号为何被停用？</a></p>
<p><a href="https://www.zhihu.com/question/36689828" target="_blank" rel="noopener">被知乎封号是怎样一个体验？</a></p>
<p>历史总是惊人的相似，希望我们能成为坐在马车上前进，而不是在车轱辘底下被碾得粉身碎骨的那个人。</p>
<p>END</p>
<hr>
]]></content>
      
        <categories>
            
            <category> 日常说 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 日常 </tag>
            
            <tag> 知乎 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[为你的Hexo加上评论系统-Valine]]></title>
      <url>/articles/use_valine_for_your_blog.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>简洁，方便，好用的评论系统</p>
<p>Valine</p>
<p>附带折腾一上午的踩坑经验</p>
</blockquote>
 <a id="more"></a>
<h2 id="Valine简介"><a href="#Valine简介" class="headerlink" title="Valine简介"></a>Valine简介</h2><p>Hexo的评论系统有很多，常见的有以下几个</p>
<ul>
<li><del>多说</del></li>
<li><del>网易云跟帖</del></li>
<li>畅言</li>
<li>来必力（LiveRe）</li>
<li>Disqus</li>
<li>Hypercomments</li>
<li>valine</li>
</ul>
<p>首先多说和网易云已经倒下了，其次畅言需要备案，Disqus，Hypercomments和LiveRe都是国外的，加载速度贼慢，甚至有被墙的可能，寻觅了很久之后，从Material主题换成next主题之后，终于找到了一个好用的评论系统，那就是 <strong>valine</strong></p>
<p>我使用的是Next 5.1.3版本，本身就已经集成了valine，因此正常情况下是按照官方文档走就可以了，5分钟开启你的评论系统~</p>
<h2 id="开启Valine"><a href="#开启Valine" class="headerlink" title="开启Valine"></a>开启Valine</h2><h3 id="注册Leancloud"><a href="#注册Leancloud" class="headerlink" title="注册Leancloud"></a>注册Leancloud</h3><p>我们的评论系统其实是放在Leancloud上的，因此首先需要去注册一个账号</p>
<p><a href="https://leancloud.cn" target="_blank" rel="noopener">Leancloud官网，点我注册</a></p>
<p>注册完以后需要创建一个应用，名字可以随便起，然后 <strong>进入应用-&gt;设置-&gt;应用key </strong></p>
<p>获取你的appid 和 appkey 如图所示：</p>
<p><img src="http://s1.wailian.download/2018/01/14/article_20180114.png" alt="leancloud"></p>
<p>拿到你的appid和appkey之后，打开<strong>主题配置文件</strong> 搜索 <strong>valine</strong>，填入appid 和 appkey </p>
<p>我的配置：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  appid:</span>  <span class="string">your</span> <span class="string">app</span> <span class="string">id</span></span><br><span class="line"><span class="attr">  appkey:</span> <span class="string">your</span> <span class="string">app</span> <span class="string">key</span></span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">false</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">false</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">ヾﾉ≧∀≦)o来啊，快活啊!</span> </span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>
<p>最后！记得在Leancloud -&gt; 设置 -&gt; 安全中心 -&gt; Web 安全域名 把你的域名加进去</p>
<p>刷新一下~ 是不是就能看到评论框了？</p>
<h2 id="结尾彩蛋"><a href="#结尾彩蛋" class="headerlink" title="结尾彩蛋"></a>结尾彩蛋</h2><p>如果能正常使用，那么恭喜大家。</p>
<p>如果大家遇到问题了，那么可以请继续往下看：</p>
<p>这是 <strong>5.1.3版本</strong> 的配置文件</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  appid:</span> </span><br><span class="line"><span class="attr">  appkey:</span> </span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">false</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">false</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">ヾﾉ≧∀≦)o来啊，快活啊!</span></span><br></pre></td></tr></table></figure>
<p>这是 <strong>6.0.1版本</strong> 的配置文件:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  app_id:</span> </span><br><span class="line"><span class="attr">  app_key:</span> </span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">false</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">false</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">ヾﾉ≧∀≦)o</span> <span class="string">来呀！快活呀！~</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="string">mm</span> <span class="comment"># gravatar style</span></span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># custom comment header</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span> <span class="comment"># pagination size</span></span><br></pre></td></tr></table></figure>
<p>看到区别了吗，app_id 和 app_key 这两个字段名是不一样的，如果字段名不对，那么是不会去加载Valine.min.js文件，也就是评论系统根本不会生效。这个问题折腾了一上午，最后还是联系作者才解决。</p>
<p>因此，在这里我要给作者打call：</p>
<p>欢迎加入Valine交流群: <strong>80972291</strong>  </p>
<p>漫漫长夜~又水完了一篇博客。。</p>
<p>对了，免费版本不支持高并发，大家评论的时候请排好队，不然Leancloud要给我发邮件了~谢谢！</p>
<div class="note primary"><p>参考 </p>
<p><a href="https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud" target="_blank" rel="noopener">Valine官方文档</a></p>
<p><a href="http://theme-next.iissnan.com/third-party-services.html#comment-system" target="_blank" rel="noopener">Valine作者博客</a></p>
<p><a href="https://giserdaishaoqing.github.io/2017/11/24/hexo%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E6%96%B0%E7%A5%9E%E5%99%A8%E2%80%94%E2%80%94Valine/" target="_blank" rel="noopener">hexo博客评论新神器——Valine/</a></p></div>
<hr>
]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> next </tag>
            
            <tag> valine </tag>
            
            <tag> 评论系统 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[弃暗投明-Hexo更换next主题]]></title>
      <url>/articles/change_to_next_theme.html</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>用了将近一个月的<a href="https://github.com/viosey/hexo-theme-material/" target="_blank" rel="noopener">Material主题</a>后，终于决定换成<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">next主题</a>    </p>
<p>这篇博客主要是美化和踩坑的总结  </p>
<p>Let’s go…</p>
</blockquote>
 <a id="more"></a>
<h1 id="界面美化"><a href="#界面美化" class="headerlink" title="界面美化"></a>界面美化</h1><h2 id="修改文章底部“-”-标签"><a href="#修改文章底部“-”-标签" class="headerlink" title="修改文章底部“#” 标签"></a>修改文章底部“#” 标签</h2><blockquote>
<p>文件：/themes/next/layout/_macro/post.swig</p>
</blockquote>
<ol>
<li><p>搜索 rel=”tag”&gt;#   </p>
</li>
<li><p>将 # 换成 将 # 换成 &lt; i class=”fa fa-tag” &gt;  &lt;/i&gt;   </p>
</li>
<li><p>其中 “fa fa-tag” 可以换成自己喜欢的图标 详情请戳：<a href="http://fontawesome.io/icons/" target="_blank" rel="noopener">Font Awesome</a>   </p>
</li>
</ol>
<h2 id="在文末添加”本文结束”"><a href="#在文末添加”本文结束”" class="headerlink" title="在文末添加”本文结束”"></a>在文末添加”本文结束”</h2><blockquote>
<p>在 \themes\next\layout\_macro 新建 passage-end-tag.swig 文件 </p>
</blockquote>
<p>添加以下内容：</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #636363;font-size:14px;letter-spacing: 10px"</span>&gt;</span>本文结束啦<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-bell"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>感谢您的阅读<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>文件： \themes\next\layout_macro\post.swig</p>
</blockquote>
<p>找到post-body 并添加代码</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'passage-end-tag.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>最后在 <strong>主题配置文件</strong> 末尾添加：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">文本结束提示语</span></span><br><span class="line"><span class="attr">passage_end_tag:</span></span><br><span class="line"><span class="attr">  enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="标签和分类加年份"><a href="#标签和分类加年份" class="headerlink" title="标签和分类加年份"></a>标签和分类加年份</h2><blockquote>
<p>文件：~/blog/themes/next/layout/category.swig  </p>
</blockquote>
<p>找到<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">for</span></span> post <span class="keyword">in</span> page.posts %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>加入：<br><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="comment">&#123;# Show year #&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">set</span></span> year %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">set</span></span> post.year = <span class="name">date</span><span class="params">(post.date, 'YYYY')</span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">     </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">if</span></span> post.year !== year %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">set</span></span> year = post.year %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collection-title"</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"archive-year motion-element"</span> <span class="attr">id</span>=<span class="string">"archive-year-</span></span></span><span class="template-variable">&#123;&#123; year &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span><span class="template-variable">&#123;&#123; year &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">     </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="comment">&#123;# endshow #&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>然后在文件末尾加上<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> script_extra %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.use_motion %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">id</span>=<span class="string">"motion.page.archive"</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">      $('.archive-year').velocity('transition.slideLeftIn');</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<h2 id="在博客底部加入本站运行时间"><a href="#在博客底部加入本站运行时间" class="headerlink" title="在博客底部加入本站运行时间"></a>在博客底部加入本站运行时间</h2><blockquote>
<p> 文件：layout/footer.swig </p>
</blockquote>
<p>找到</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.footer.theme.enable %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>
<p> 在</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>
<p>前加入：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;　<span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-bomb"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;span id=<span class="string">"showDays"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>在文件最后加入：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> seconds = <span class="number">1000</span>;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> minutes = seconds * <span class="number">60</span>;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> hours = minutes * <span class="number">60</span>;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> days = hours * <span class="number">24</span>;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> years = days * <span class="number">365</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> birthDay = <span class="built_in">Date</span>.UTC(<span class="number">2017</span>,<span class="number">12</span>,<span class="number">17</span>,<span class="number">00</span>,<span class="number">00</span>,<span class="number">00</span>); <span class="comment">// 这里设置建站时间</span></span></span><br><span class="line"><span class="actionscript">  setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> todayYear = today.getFullYear();</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> todayMonth = today.getMonth()+<span class="number">1</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> todayDate = today.getDate();</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> todayHour = today.getHours();</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> todayMinute = today.getMinutes();</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> todaySecond = today.getSeconds();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> now = <span class="built_in">Date</span>.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> diff = now - birthDay;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> diffYears = <span class="built_in">Math</span>.floor(diff/years);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> diffDays = <span class="built_in">Math</span>.floor((diff/days)-diffYears*<span class="number">365</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> diffHours = <span class="built_in">Math</span>.floor((diff-(diffYears*<span class="number">365</span>+diffDays)*days)/hours);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> diffMinutes = <span class="built_in">Math</span>.floor((diff-(diffYears*<span class="number">365</span>+diffDays)*days-diffHours*hours)/minutes);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> diffSeconds = <span class="built_in">Math</span>.floor((diff-(diffYears*<span class="number">365</span>+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementById(<span class="string">'showDays'</span>).innerHTML=<span class="string">"本站已运行 "</span>+diffYears+<span class="string">" 年 "</span>+diffDays+<span class="string">" 天 "</span>+diffHours+<span class="string">" 小时 "</span>+diffMinutes+<span class="string">" 分钟 "</span>+diffSeconds+<span class="string">" 秒"</span>;</span></span><br><span class="line"><span class="undefined">  &#125;, 1000);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="个性化设置"><a href="#个性化设置" class="headerlink" title="个性化设置"></a>个性化设置</h1><h2 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h2><p>由于next主题本身就提供了自定义的文件，设置的属性会直接覆盖默认的，不想用的时候可以直接还原，不用担心出问题~</p>
<p>推荐阅读：</p>
<p><a href="https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html#%E9%99%84%E4%B8%8A%E6%88%91%E7%9A%84-custom-styl" target="_blank" rel="noopener">打造个性超赞博客Hexo+NexT+GithubPages的超深度优化</a></p>
<p><a href="https://segmentfault.com/a/1190000009544924" target="_blank" rel="noopener">hexo的next主题个性化配置教程</a></p>
<p>我是参考这两篇博客再进行调整的，当然也可以直接看我的配置文件：</p>
<blockquote>
<p>文件： ~/blog/themes/next/source/css/_custom.styl    </p>
</blockquote>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Custom styles.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 页面留白更改</span></span><br><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.posts-expand</span> &#123;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-meta</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.post-button</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 菜单</span></span><br><span class="line"><span class="selector-class">.menu</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.75</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.15</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 去除在页面文章之间的分割线</span></span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-eof</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 去除页面底部页码上面的横线</span></span><br><span class="line"><span class="selector-class">.pagination</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 时间轴样式</span></span><br><span class="line"><span class="selector-class">.posts-collapse</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line">@media (<span class="attribute">max-width</span>: <span class="number">1023px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.posts-collapse</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">50px</span> <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 时间轴文章标题</span></span><br><span class="line"><span class="selector-class">.posts-collapse</span> <span class="selector-class">.post-title</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.posts-collapse</span> <span class="selector-class">.post-title</span> <span class="selector-tag">a</span>:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 时间轴文章标题底部虚线</span></span><br><span class="line"><span class="selector-class">.posts-collapse</span> <span class="selector-class">.post-header</span>:hover &#123;</span><br><span class="line">    <span class="attribute">border-bottom-color</span>: rgb(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 自定义ABOUT页面的样式</span></span><br><span class="line"><span class="selector-class">.about-page</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: -<span class="number">80px</span> <span class="number">0px</span> <span class="number">60px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">106px</span> <span class="number">36px</span> <span class="number">36px</span> <span class="number">36px</span>;</span><br><span class="line">&#125;</span><br><span class="line">@media (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.about-page</span> &#123;</span><br><span class="line">        <span class="attribute">margin</span>: -<span class="number">73px</span> <span class="number">0px</span> <span class="number">50px</span> <span class="number">0px</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">96px</span> <span class="number">15px</span> <span class="number">20px</span> <span class="number">15px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h2</span><span class="selector-class">.about-title</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: none !important;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">0px</span> !important;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">0px</span> !important;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">background-image</span>: linear-gradient(<span class="number">90deg</span>, <span class="number">#a166ab</span> <span class="number">0%</span>, <span class="number">#a166ab</span> <span class="number">40%</span>, <span class="number">#ef4e7b</span> <span class="number">45%</span>, <span class="number">#f37055</span> <span class="number">50%</span>, <span class="number">#ef4e7b</span> <span class="number">55%</span>, <span class="number">#a166ab</span> <span class="number">60%</span>, <span class="number">#a166ab</span> <span class="number">100%</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    -webkit-<span class="attribute">background-clip</span>: text;</span><br><span class="line">    -webkit-text-fill-<span class="attribute">color</span>: transparent;</span><br><span class="line">    user-select: <span class="attribute">none</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 本地搜索框</span></span><br><span class="line"><span class="selector-class">.local-search-popup</span> <span class="selector-class">.local-search-input-wrapper</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">9px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">21px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-popup</span> <span class="selector-class">.popup-btn-close</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 标签云页面超链接样式（为emoji特设）</span></span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>);</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid rgb(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>);</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span>:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>);</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid rgb(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>);</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 选中文字部分的样式</span></span><br><span class="line">::selection &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">38</span>, <span class="number">140</span>, <span class="number">242</span>);</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line">*::-moz-selection &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">38</span>, <span class="number">140</span>, <span class="number">242</span>);</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文章``代码块的自定义样式</span></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 文章```代码块顶部样式</span></span><br><span class="line"><span class="selector-class">.highlight</span> <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0em</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0.5em</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#e9e9e9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span> <span class="selector-tag">figcaption</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 文章```代码块diff样式</span></span><br><span class="line">pre <span class="selector-class">.addition</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#e6ffed</span>;</span><br><span class="line">&#125;</span><br><span class="line">pre <span class="selector-class">.deletion</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffeef0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h2><blockquote>
<p>除了样式的设置，还有字体的设置，这个是在<strong>主题配置文件</strong>中修改的：</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Uri of fonts host. E.g. //fonts.googleapis.com (Default)</span></span><br><span class="line">  <span class="comment"># 亲测这个可用，如果不可用，自己搜索 [Google 字体 国内镜像]，找个能用的就行</span></span><br><span class="line"><span class="attr">  host:</span> <span class="attr">https://fonts.cat.net</span></span><br><span class="line">  <span class="comment"># Global font settings used on &lt;body&gt; element.</span></span><br><span class="line">    <span class="comment"># 全局字体，应用在 body 元素上</span></span><br><span class="line"><span class="attr">  global:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Lato</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 标题字体 (h1, h2, h3, h4, h5, h6)</span></span><br><span class="line"><span class="attr">  headings:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Roboto</span> <span class="string">Slab</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 文章字体</span></span><br><span class="line"><span class="attr">  posts:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Logo 字体</span></span><br><span class="line"><span class="attr">  logo:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Lobster</span> <span class="string">Two</span></span><br><span class="line"><span class="attr">    size:</span> <span class="number">24</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 代码字体，应用于 code 以及代码块</span></span><br><span class="line"><span class="attr">  codes:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Roboto</span> <span class="string">Mono</span></span><br></pre></td></tr></table></figure>
<h2 id="自定义背景图片"><a href="#自定义背景图片" class="headerlink" title="自定义背景图片"></a>自定义背景图片</h2><blockquote>
<p>文件：themes\next\source\css\ _custom\custom.styl</p>
</blockquote>
<p>在最后加上：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 页面背景图</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:url(https://source.unsplash.com/random/<span class="number">1600</span>x900);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-attachment</span>:fixed;</span><br><span class="line">    <span class="attribute">background-position</span>:<span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>希望背景变暗的可以加上这段：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 页面背景色</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.75</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不满意的可以根据自己的需要再调整，接下来就是集成第三方服务了</p>
<p><br></p>
<h1 id="第三方集成"><a href="#第三方集成" class="headerlink" title="第三方集成"></a>第三方集成</h1><p>这部分主要讲一下数据统计 以及 坑爹的评论系统</p>
<h2 id="数据统计"><a href="#数据统计" class="headerlink" title="数据统计"></a>数据统计</h2><p>可以参考官方文档：<a href="http://theme-next.iissnan.com/third-party-services.html#comment-system" target="_blank" rel="noopener">第三方服务集成</a></p>
<p>目前我开启了 <strong>google分析</strong> 以及 <strong>LeanCloud</strong></p>
<p>关于google分析，可以看我之前写的博客：<a href="https://www.bluelzy.com/articles/ues_Hexo_build_blog_three.html">使用Hexo搭建个人博客(三)</a></p>
<p>LeanCloud的集成也很简单</p>
<ol>
<li><p>注册<a href="https://leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a>账号,创建应用，然后进入应用-&gt;设置-&gt;应用key </p>
<p><img src="http://s1.wailian.download/2018/01/14/article_20180114.png" alt="leancloud"></p>
</li>
<li><p>在主题配置文件加入appid和appkey:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show number of visitors to each article.</span></span><br><span class="line"><span class="comment"># You can visit https://leancloud.cn get AppID and AppKey.</span></span><br><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  app_id:</span> <span class="string">你的appid</span></span><br><span class="line"><span class="attr">  app_key:</span> <span class="string">你的appkey</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h2><p>首先来看看next关于第三方评论系统的官方文档：<a href="http://theme-next.iissnan.com/third-party-services.html#comment-system" target="_blank" rel="noopener">http://theme-next.iissnan.com/third-party-services.html#comment-system</a></p>
<p>支持的有</p>
<ul>
<li>Disqus</li>
<li>Facebook Comments</li>
<li>HyperComments</li>
<li>网易云跟帖</li>
<li>来必力</li>
</ul>
<p>有需要的请参考文档自行食用。</p>
<p>之前用Material主题的时候我用的是来必力，但是无奈每次打开的速度都贼慢，已经到了无法忍受的地步了。</p>
<p>恩，又为自己换主题找了个借口，所以在next下惊喜的发现，虽然文档没写，但是配置文件里居然有 <strong>Valine</strong> </p>
<p>于是开始了长达一个上午的折腾~具体细节会重新开一篇文章记录，这里直接说设置步骤：</p>
<p>非常简单，在<strong>主题配置文件</strong>加入你的LeanCloud的appid以及appkey即可~</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  appid:</span> <span class="string">your</span> <span class="string">app</span> <span class="string">id</span></span><br><span class="line"><span class="attr">  appkey:</span> <span class="string">your</span> <span class="string">app</span> <span class="string">key</span></span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">true</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">true</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">ヾﾉ≧∀≦)o来啊，快活啊!</span> </span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>
<p>没有开启邮箱提醒的请把 notify 和 verify 设为 false</p>
<p>刷新一下，就能看到评论框了。完结撒花。</p>
<p>更新：关于Valine评论请看：<a href="https://www.bluelzy.com/articles/use_valine_for_your_blog.html">为你的Hexo加上评论系统-Valine</a></p>
<p><br></p>
<div class="note primary"><p>参考 - 排名不分先后</p>
<p><a href="https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html#%E9%99%84%E4%B8%8A%E6%88%91%E7%9A%84-custom-styl" target="_blank" rel="noopener">打造个性超赞博客Hexo+NexT+GithubPages的超深度优化</a></p>
<p><a href="https://segmentfault.com/a/1190000009544924" target="_blank" rel="noopener">hexo的next主题个性化配置教程</a></p>
<p><a href="https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud" target="_blank" rel="noopener">为NexT主题添加文章阅读量统计功能</a></p>
<p><a href="http://theme-next.iissnan.com/third-party-services.html#comment-system" target="_blank" rel="noopener">第三方服务集成</a></p></div>
<hr>





]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> next </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[为博客提速-Nginx开启gzip压缩]]></title>
      <url>/articles/open_gzip_for_nginx.html</url>
      <content type="html"><![CDATA[<h1 id="本文说明"><a href="#本文说明" class="headerlink" title="本文说明"></a>本文说明</h1><p>这是对于个人博客优化的一个记录。今天打开博客，发现加载速度有点慢，于是在Google Analytics里面检查了打开速度，没想到谷歌还提供了优化的建议，其中有一项就是开启网页压缩~使用的就是Nginx的gzip压缩</p>
<a id="more"></a>
<h1 id="Nginx服务器启用gzip压缩"><a href="#Nginx服务器启用gzip压缩" class="headerlink" title="Nginx服务器启用gzip压缩"></a>Nginx服务器启用gzip压缩</h1><p>首先，打开nginx的配置文件，我的博客有单独的配置文件，打开命令如下：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vi</span> /etc/nginx/<span class="keyword">conf</span>.d/blog.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure>
<p>然后在配置文件中加入这一段</p>
<pre><code>gzip on;
gzip_proxied any;
gzip_min_length 1100;
gzip_buffers 16 8k;
gzip_types text/plain text/css application/javascript application/x-javascript text/xml application/xml application/xml+rss text/javascript;
</code></pre><p>保存退出并重启nginx</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="string">/etc/init.d/nginx</span> <span class="keyword">reload</span></span><br></pre></td></tr></table></figure>
<p>接下来就可以看结果了：</p>
<p>通过这个网址：<a href="https://nixcp.com/tools/gzip-test/" target="_blank" rel="noopener">https://nixcp.com/tools/gzip-test/</a> 测试是否成功开启gzip</p>
<p>通过这个网址：<a href="http://www.whatsmyip.org/http-compression-test/" target="_blank" rel="noopener">http://www.whatsmyip.org/http-compression-test/</a> 看压缩效果</p>
<p>最后经过测试，我的网页压缩效果如下：</p>
<p><img src="http://s1.wailian.download/2018/01/05/artical_2018-01-05.png" alt="压缩效果"></p>
<p>未开启之前是47K，开启以后只有12K，压缩了74%，效果杠杠的。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>​    开启gzip，不仅可以提高网页加载速度，减少服务器的负载，还能提高网站排名，还没为自己的网站开启gzip压缩的童鞋，赶快去试试吧~</p>
]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> Nginx </tag>
            
            <tag> gzip </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[使用Hexo搭建个人博客(三)]]></title>
      <url>/articles/ues_Hexo_build_blog_three.html</url>
      <content type="html"><![CDATA[<h1 id="本文说明"><a href="#本文说明" class="headerlink" title="本文说明"></a>本文说明</h1><p><strong>2018年的第一篇博客，首先祝大家新年快乐，学习进步，工作顺利！</strong>  </p>
<p>这是使用Hexo搭建个人博客系列的最后一篇文章，主要介绍<strong>Material主题</strong>的配置。</p>
<p>Material主题配置文档：<a href="https://material.viosey.com/docs/#/start" target="_blank" rel="noopener">Click Me</a></p>
<p>不了解Material主题的可以看这里：<a href="https://github.com/viosey/hexo-theme-material/" target="_blank" rel="noopener">Github地址</a></p>
<p>前文：<br><a href="https://www.bluelzy.com/2017/12/25/Hexo搭建个人博客-一/">使用Hexo搭建个人博客(一)</a><br><a href="https://www.bluelzy.com/2017/12/25/Hexo搭建个人博客-二/">使用Hexo搭建个人博客(二)</a></p>
<a id="more"></a>
<h1 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h1><blockquote>
<p>主题配置文件在：/你的博客目录/themes/material/_config.yml<br>clone下来的时候把名字改成_config.yml即可</p>
</blockquote>
<h2 id="基本配置-–-Head-info"><a href="#基本配置-–-Head-info" class="headerlink" title="基本配置 – Head info"></a>基本配置 – Head info</h2><h3 id="head"><a href="#head" class="headerlink" title="head"></a>head</h3><ul>
<li>favicon: “/img/favicon.png”  网站的图标</li>
<li>high_res_favicon: “/img/favicon.png” 高清版图标</li>
<li>apple_touch_icon: “/img/favicon.png” IOS主屏图标</li>
<li>keywords: Blue’s Blog, Android, Python 网站关键词</li>
<li>site_verification:<br>   google: 谷歌 Search Console 验证<pre><code>baidu: 百度站长平台验证
</code></pre></li>
</ul>
<h2 id="样式设定-–-Style-Settings"><a href="#样式设定-–-Style-Settings" class="headerlink" title="样式设定  – Style Settings"></a>样式设定  – Style Settings</h2><h3 id="scheme-–-Material主题样式"><a href="#scheme-–-Material主题样式" class="headerlink" title="scheme  – Material主题样式"></a>scheme  – Material主题样式</h3><p>一般使用Paradox</p>
<h3 id="uiux-–-设置主题UI"><a href="#uiux-–-设置主题UI" class="headerlink" title="uiux – 设置主题UI"></a>uiux – 设置主题UI</h3><ul>
<li>slogan: <pre><code>- 首页的标语
</code></pre></li>
<li>theme_color: “主题主要颜色”  </li>
<li>theme_sub_color: “主题次要颜色” #00838F</li>
<li>hyperlink_color: “超链颜色”</li>
<li>button_color: “按钮颜色”</li>
<li>android_chrome_color: “Chrome浏览器颜色”</li>
<li>nprogress_color: “顶部进度条颜色”</li>
<li>nprogress_buffer: “800”  – 加载缓存时间</li>
</ul>
<h3 id="reading-–-设置阅读体验"><a href="#reading-–-设置阅读体验" class="headerlink" title="reading – 设置阅读体验"></a>reading – 设置阅读体验</h3><ul>
<li>entry_excerpt: 首页文章输出摘要的字符长度。</li>
</ul>
<h3 id="thumbnail-–-设置缩略图"><a href="#thumbnail-–-设置缩略图" class="headerlink" title="thumbnail – 设置缩略图"></a>thumbnail – 设置缩略图</h3><ul>
<li>purecolor: 填入颜色代码。如果文章内无设置缩略图，此项又不为空，则使用纯色缩略图。</li>
<li>random_amount: 随机图片数量，根据 主题所在文件夹/source/img/random 中的图片数量设置。Material 主题默认提供了 19 张 Material 风格的缩略图。</li>
</ul>
<h3 id="background-–-设置背景图"><a href="#background-–-设置背景图" class="headerlink" title="background – 设置背景图"></a>background – 设置背景图</h3><pre><code>purecolor: &quot;#F4F4F4&quot;    --纯色背景
# bgimg: &quot;/img/bg.jpg&quot;  --图片背景
bing:                          -- bing随机背景
    enable: false
    parameter:
      color=: black, blue, brown, green, multi, orange, pink, purple, red, white, yellow.
      type=: A (动物), C (人文), N (自然), S (太空), T (旅行).
</code></pre><h3 id="img-–-设置站点图片"><a href="#img-–-设置站点图片" class="headerlink" title="img – 设置站点图片"></a>img – 设置站点图片</h3><ul>
<li>logo: 显示于 blog_info 模块中。</li>
<li>avatar: 你的头像设置。</li>
<li>daily_pic: 显示于 daily_pic 模块中。</li>
<li>sidebar_header: 显示于 sidebar 顶部。</li>
<li>footerico: 设置 footer 中 SNS 图标的路径。</li>
<li>random_thumbnail: 随机缩略图的路径。</li>
<li>footer_image: 你可以在侧边栏底部放置任何你想要的图片。</li>
</ul>
<h2 id="自定义设定"><a href="#自定义设定" class="headerlink" title="自定义设定"></a>自定义设定</h2><h3 id="copyright-since-–-设置站点成立时间"><a href="#copyright-since-–-设置站点成立时间" class="headerlink" title="copyright_since – 设置站点成立时间"></a>copyright_since – 设置站点成立时间</h3><ul>
<li>copyright_since: 2017 就会显示2017-2018</li>
</ul>
<h3 id="footer-text-–-设置底部文字"><a href="#footer-text-–-设置底部文字" class="headerlink" title="footer_text – 设置底部文字"></a>footer_text – 设置底部文字</h3><pre><code>例如：footer_text: &apos;&lt;a href=&quot;http://www.miitbeian.gov.cn&quot; rel=&quot;nofollow&quot;&gt;某ICP备xxxxxxxx号-x&lt;/a&gt;&apos;
</code></pre><h3 id="Code-–-设置代码高亮"><a href="#Code-–-设置代码高亮" class="headerlink" title="Code – 设置代码高亮"></a>Code – 设置代码高亮</h3><p>Material内置两个选项 perttify 和 hanabi，个人比较喜欢perttify，因为hanabi太花哨了，附上配置文件</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">prettify:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    theme:</span> <span class="string">"atelier-estuary-light"</span>  <span class="comment"># atelier-estuary-light  tomorrow-night-eighties</span></span><br><span class="line"></span><br><span class="line"><span class="string">这三个配色我都挺喜欢的，供参考：</span></span><br><span class="line"><span class="string">atelier-estuary-light</span>  </span><br><span class="line"><span class="string">atelier-estuary-light</span>  </span><br><span class="line"><span class="string">tomorrow-night-eighties</span></span><br></pre></td></tr></table></figure>
<h3 id="Post-License-–-版权说明"><a href="#Post-License-–-版权说明" class="headerlink" title="Post License – 版权说明"></a>Post License – 版权说明</h3><p>老规矩，直接附上配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">'本文作者：<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://bluelzy.com"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>BlueLzy<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">本文采用 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>CC BY-NC-SA 3.0 Unported License<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 协议进行许可,</span><br><span class="line"> 阅读<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://bluelzy.com/creativecommons.html"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>相关说明<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">'</span><br></pre></td></tr></table></figure>
<h2 id="菜单设定"><a href="#菜单设定" class="headerlink" title="菜单设定"></a>菜单设定</h2><h3 id="sns-–-设置sns信息"><a href="#sns-–-设置sns信息" class="headerlink" title="sns – 设置sns信息"></a>sns – 设置sns信息</h3><blockquote>
<p>用于填写你的 SNS 信息，其中 email 会显示在侧边栏，其他信息会以按钮的形式显示在 footer。</p>
</blockquote>
<ul>
<li>email</li>
<li>twitter</li>
<li>facebook</li>
<li>googleplus</li>
<li>weibo</li>
<li>instagram</li>
<li>tumblr</li>
<li>github</li>
<li>linkedin</li>
<li>facebook</li>
</ul>
<h3 id="sns-share-–-定义分享菜单中的项目"><a href="#sns-share-–-定义分享菜单中的项目" class="headerlink" title="sns_share – 定义分享菜单中的项目"></a>sns_share – 定义分享菜单中的项目</h3><blockquote>
<p>这部分会出现在文章分享按钮菜单上</p>
</blockquote>
<ul>
<li>twitter</li>
<li>googleplus</li>
<li>weibo</li>
<li>linkedin</li>
<li>qq</li>
<li>telegram</li>
</ul>
<h2 id="sidebar-–-设置边栏菜单"><a href="#sidebar-–-设置边栏菜单" class="headerlink" title="sidebar – 设置边栏菜单"></a>sidebar – 设置边栏菜单</h2><p>这一块应该大家都能看懂，直接附上配置文件：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dropdown:</span></span><br><span class="line">        <span class="string">Email</span> <span class="attr">Me:</span></span><br><span class="line"><span class="attr">            link:</span> <span class="string">"mailto: bluehobert@gmail.com"</span></span><br><span class="line"><span class="attr">            icon:</span> <span class="string">email</span></span><br><span class="line"><span class="attr">        Github:</span></span><br><span class="line"><span class="attr">            link:</span> <span class="string">"https://github.com/bluezzyy"</span></span><br><span class="line"><span class="attr">            icon:</span> <span class="string">layers</span></span><br><span class="line"><span class="attr">    homepage:</span></span><br><span class="line"><span class="attr">        use:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">        icon:</span> <span class="string">home</span></span><br><span class="line"><span class="attr">        divider:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    archives:</span></span><br><span class="line"><span class="attr">        use:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">        icon:</span> <span class="string">inbox</span></span><br><span class="line"><span class="attr">        divider:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    categories:</span></span><br><span class="line"><span class="attr">        use:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">        icon:</span> <span class="string">chrome_reader_mode</span></span><br><span class="line"><span class="attr">        divider:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    pages:</span></span><br><span class="line">        <span class="string">标签云:</span></span><br><span class="line"><span class="attr">            link:</span> <span class="string">"/tags"</span></span><br><span class="line"><span class="attr">            icon:</span> <span class="string">label</span></span><br><span class="line"><span class="attr">            divider:</span> <span class="literal">false</span></span><br><span class="line">        <span class="string">时间轴:</span></span><br><span class="line"><span class="attr">            link:</span> <span class="string">"/timeline"</span></span><br><span class="line"><span class="attr">            icon:</span> <span class="string">cloud</span></span><br><span class="line"><span class="attr">            divider:</span> <span class="literal">false</span></span><br><span class="line">        <span class="string">关于我:</span></span><br><span class="line"><span class="attr">            link:</span> <span class="string">"/about.html"</span></span><br><span class="line"><span class="attr">            icon:</span> <span class="string">person</span></span><br><span class="line"><span class="attr">            divider:</span> <span class="literal">true</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">    article_num:</span></span><br><span class="line"><span class="attr">        use:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">        divider:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    footer:</span></span><br><span class="line"><span class="attr">        divider:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">        theme:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">        support:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">        feedback:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">        material:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h2 id="第三方服务"><a href="#第三方服务" class="headerlink" title="第三方服务"></a>第三方服务</h2><blockquote>
<p>其实Material内置的第三方服务已经基本足够使用了，RSS，评论系统，搜索系统，数据统计与分析等等</p>
</blockquote>
<p>这部分可以按照自己实际情况，以及配合<a href="https://material.viosey.com/docs/#/config_services" target="_blank" rel="noopener">官方文档</a>服用，效果更佳，在这里我只介绍自己博客用到的配置，包括：<br>​    </p>
<ul>
<li>评论系统：来比力</li>
<li>搜索系统：本地搜索</li>
<li>数据统计：谷歌统计</li>
</ul>
<h3 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h3><p>首先注册来必力<br><a href="https://livere.com/login_form" target="_blank" rel="noopener">来必力官网</a></p>
<p>然后登陆，安装city版本并获取uid：<br><a href="https://livere.com/apply" target="_blank" rel="noopener">安装地址</a>  </p>
<p><img src="http://img.blog.csdn.net/20180102124646491?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmx1ZV96eQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="安装面板"></p>
<p>最后修改站点的配置文件</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">comment:</span></span><br><span class="line"><span class="symbol">    use:</span> livere</span><br><span class="line"><span class="symbol">    shortname:</span> <span class="meta"># duoshuo or disqus shortname</span></span><br><span class="line"><span class="symbol">    changyan_appid:</span></span><br><span class="line"><span class="symbol">    changyan_conf:</span></span><br><span class="line"><span class="symbol">    changyan_thread_key_type:</span> path</span><br><span class="line"><span class="symbol">    livere_data_uid:</span>  <span class="meta"># 来必力的uid</span></span><br></pre></td></tr></table></figure>
<p>再刷新一下博客，就可以看到评论系统啦~</p>
<h3 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">search:</span></span><br><span class="line"><span class="symbol">    use:</span> local</span><br><span class="line"><span class="symbol">    swiftype_key:</span></span><br></pre></td></tr></table></figure>
<p>即可通过关键字搜索本站</p>
<h3 id="数据统计-Google-Analytics"><a href="#数据统计-Google-Analytics" class="headerlink" title="数据统计(Google Analytics)"></a>数据统计(Google Analytics)</h3><p><strong>我们只需要获取到跟踪ID即可</strong></p>
<p>可以参考<a href="https://support.google.com/analytics/answer/1009694?hl=zh-Hans" target="_blank" rel="noopener">Google Analytics（分析）帮助</a></p>
<p>或者按照以下步骤操作，登陆google analytics 找到管理 -&gt; 媒体资源 -&gt; 跟踪信息 -&gt; 跟踪代码</p>
<p><img src="http://img.blog.csdn.net/20180102124739072?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmx1ZV96eQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="获取跟踪ID"></p>
<p>获取到跟踪ID后，修改配置文件</p>
<p>找到主题配置文件中的analytics字段：</p>
<p>在google_site_id 字段加上你的跟踪ID，保存即可</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>Material基本的配置介绍这么多，关于进阶配置，大家可以去看官方文档，或者自己再慢慢摸索，接下来我还会写一些关于博客优化的文章。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://material.viosey.com/docs/#/start" target="_blank" rel="noopener">Material主题配置文档</a></li>
<li><a href="https://github.com/viosey/hexo-theme-material/" target="_blank" rel="noopener">Material主题 Github地址</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> 主题 </tag>
            
            <tag> material </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[使用Hexo搭建个人博客(二)]]></title>
      <url>/articles/ues_Hexo_build_blog_two.html</url>
      <content type="html"><![CDATA[<h1 id="本文说明："><a href="#本文说明：" class="headerlink" title="本文说明："></a>本文说明：</h1><p>本文是使用Hexo搭建个人博客系列的第二篇，主要包括  </p>
<ul>
<li>本地安装hexo</li>
<li>服务器配置</li>
<li>把个人博客部署到服务器</li>
</ul>
<p>关于购买VPS和注册域名，解析域名到IP请看：<a href="https://www.bluelzy.com/2017/12/25/Hexo搭建个人博客-一/">Hexo搭建个人博客(一)</a></p>
<p>接下来让我们一步步把博客给搭建起来，跟着这篇博客做，最终就可以把博客部署到服务器上，并且运行起来~</p>
<a id="more"></a>
<h1 id="本地环境配置"><a href="#本地环境配置" class="headerlink" title="本地环境配置"></a>本地环境配置</h1><h2 id="安装依赖环境"><a href="#安装依赖环境" class="headerlink" title="安装依赖环境"></a>安装依赖环境</h2><p>安装Hexo需要先安装node.js和git</p>
<ul>
<li>下载Node.js : <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js下载地址</a></li>
<li>下载Git: <a href="https://git-scm.com/download/" target="_blank" rel="noopener">Git下载地址</a></li>
</ul>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>只需要一行命令：</p>
<pre><code>$ npm install hexo-cli -g
</code></pre><p>例如我的博客目录是 /MyBlog<br>通过命令   </p>
<pre><code>cd /MyBlog
</code></pre><p>切换到博客目录</p>
<p>然后在博客目录下初始化hexo博客，blog为博客名，可随意更改</p>
<pre><code>hexo init blog  
</code></pre><p>进入博客目录并安装插件依赖  </p>
<pre><code>cd blog
npm install
</code></pre><p>最后执行命令</p>
<pre><code>hexo g
hexo s 
</code></pre><p>顺利的话，应该能看到终端打印出地址：<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p>
<p>点击地址打开浏览器，应该能看到Hexo默认主题的界面了~当然，我的主题已经换了，所以打开是这样的：</p>
<p><img src="http://img.blog.csdn.net/20171229235500131?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmx1ZV96eQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="首页"></p>
<h2 id="安装部署依赖环境"><a href="#安装部署依赖环境" class="headerlink" title="安装部署依赖环境"></a>安装部署依赖环境</h2><p>部署Hexo使用</p>
<pre><code>hexo deploy
</code></pre><p>命令即可，但是在这之前，需要先安装依赖环境server和deploy-git</p>
<p>在终端输入：</p>
<pre><code>$ npm install hexo-server --save  #
$ npm install hexo-deployer-git --save
</code></pre><p>至此，本地环境就搭建好了，除了这个，我们还需要搭建服务器的环境，所以接下来就是服务器的配置。</p>
<h1 id="服务器配置"><a href="#服务器配置" class="headerlink" title="服务器配置"></a>服务器配置</h1><h2 id="安装Git和NodeJS"><a href="#安装Git和NodeJS" class="headerlink" title="安装Git和NodeJS"></a>安装Git和NodeJS</h2><p>只需要两行命令</p>
<pre><code>$ yum install git  # 安装git

curl --silent --location https://rpm.nodesource.com/setup_5.x | bash -   # 安装NodeJS
</code></pre><h2 id="创建Git用户"><a href="#创建Git用户" class="headerlink" title="创建Git用户"></a>创建Git用户</h2><blockquote>
<p>为了能让Hexo直接部署到VPS上，需要在服务器新建用户git</p>
</blockquote>
<ul>
<li>步骤：</li>
</ul>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adduser git    <span class="comment"># 添加git用户</span></span><br><span class="line">sudo passwd git  <span class="comment"># 给git用户设置密码  </span></span><br><span class="line">chmod <span class="number">740</span> <span class="regexp">/etc/</span>sudoers  </span><br><span class="line">vim <span class="regexp">/etc/</span>sudoers</span><br></pre></td></tr></table></figure>
<p>然后找到这一行</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Allow root to run any commands anywhere</span></span><br><span class="line"><span class="attribute">root</span>    <span class="literal">ALL</span>=(<span class="literal">ALL</span>)     <span class="literal">ALL</span></span><br></pre></td></tr></table></figure>
<p>并添加</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">ALL</span>=(<span class="keyword">ALL</span>) <span class="keyword">ALL</span></span><br></pre></td></tr></table></figure>
<p>接下来我们需要把电脑的公钥配置到服务器，这样才能向服务器提交代码</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">su git</span><br><span class="line">mkdir ~<span class="string">/.ssh</span></span><br><span class="line">vim ~<span class="string">/.ssh/authorized_keys</span></span><br><span class="line"><span class="comment">#然后在本地执行 cat ~/.ssh/id_rsa.pub | pbcopy ,将公钥复制粘贴到authorized_keys</span></span><br><span class="line">chmod 600 ~<span class="string">/.ssh/authorzied_keys</span></span><br><span class="line">chmod 700 ~<span class="string">/.ssh</span></span><br></pre></td></tr></table></figure>
<p>OK，到这里，我们就把服务器git用户给配置完了，可以通过命令</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh</span> -v git<span class="variable">@SERVER</span>  <span class="comment"># SERVER是你的服务器地址</span></span><br></pre></td></tr></table></figure>
<p>来测试一下，是不是可以免密码登陆到服务器，如果可以，那就说明没问题了。</p>
<h2 id="安装和配置Nginx"><a href="#安装和配置Nginx" class="headerlink" title="安装和配置Nginx"></a>安装和配置Nginx</h2><h3 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3><p>由于我的vps上运行的是CentOS 6 的系统，直接安装Nginx会报错，解决方法请参考这篇博客：<a href="https://www.bluelzy.com/2017/12/28/CentOS-6安装Nginx/">CentOS 6 安装Nginx</a></p>
<p>CentOS 7 可以直接执行命令：  </p>
<pre><code>$ sudo yum install epel-release
$ sudo yum install nginx    
</code></pre><p>然后再启动Nginx：</p>
<pre><code>sudo systemctl start nginx
</code></pre><p>CentOS 6 启动Nginx的命令应该是：<br>​<br>    /etc/init.d/nginx start</p>
<p>这个时候在浏览器输入服务器ip地址或者域名，就能看到Nginx欢迎页。</p>
<h3 id="配置Nginx"><a href="#配置Nginx" class="headerlink" title="配置Nginx"></a>配置Nginx</h3><ul>
<li>在 /etc/nginx/conf.d/ 创建虚拟主机配置文件 blog.conf</li>
</ul>
<p>加入以下内容： </p>
<ul>
<li>server_name: 改成你的服务器名字，或者域名  </li>
<li>root: 改成你的博客根目录</li>
</ul>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">server</span></span><br><span class="line">&#123;</span><br><span class="line">    listen <span class="number">80</span>;</span><br><span class="line">    <span class="meta">#listen [::]:80;</span></span><br><span class="line">    server_name  bluelzy.com www.bluelzy.com;</span><br><span class="line">    <span class="keyword">index</span> <span class="keyword">index</span>.html <span class="keyword">index</span>.htm <span class="keyword">index</span>.php <span class="keyword">default</span>.html <span class="keyword">default</span>.htm <span class="keyword">default</span>.php;</span><br><span class="line">    <span class="meta">#这里要改成网站的根目录</span></span><br><span class="line">    root  /var/www/hexo;  </span><br><span class="line"></span><br><span class="line">    include other.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后再重启一下Nginx，即可  </p>
<pre><code>service nginx restart
</code></pre><h2 id="创建Git仓库"><a href="#创建Git仓库" class="headerlink" title="创建Git仓库"></a>创建Git仓库</h2><p>既然本地环境配好了，服务器所需要的环境也配好了，那么现在就需要在服务器建一个仓库，用来管理博客的代码，这一块比较重要，关乎到能不能成功部署博客。  </p>
<p>其实就是两步：  </p>
<ul>
<li>创建仓库  </li>
<li>设置git hook</li>
</ul>
<h3 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h3><p>执行以下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ~ </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir blog.git &amp;&amp; <span class="built_in">cd</span> blog.git</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git init --bare</span></span><br></pre></td></tr></table></figure>
<p>解释一下这一行：</p>
<pre><code>git init --bare
</code></pre><p>意思是初始化一个裸仓库，创建一个裸仓库，并且这个仓库是可以被正常 clone 和 push 更新的， 裸仓库不包含工作区，所以并不会存在在裸仓库上直接提交变更的情况。</p>
<h3 id="设置git-hook"><a href="#设置git-hook" class="headerlink" title="设置git hook"></a>设置git hook</h3><p>我们使用 post-receive这个钩子.在 ~/blog.git 裸库的 hooks文件夹中，<br>新建post-receive文件。</p>
<pre><code>vim ~/blog.git/hooks/post-receive
</code></pre><p>在文件中加入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">git --work-tree=/var/www/hexo --git-dir=~/blog.git checkout -f</span><br></pre></td></tr></table></figure>
<p><strong>注意： –work-tree=/var/www/hexo 要改成你的博客根目录，也就是上面Nginx配置文件中的root</strong></p>
<p>保存退出(wq)</p>
<p>然后再赋予这个文件运行的权限</p>
<pre><code>chmod +x post-receive
</code></pre><p>​<br>OK,到这一步，服务器的配置也已经全部完成了。</p>
<p><strong>恭喜你，如果能按着博客一步步看到这里，并且一切正常，那么你离成功搭建一个博客，还差最后一步….</strong></p>
<h1 id="本地配置-config-yml"><a href="#本地配置-config-yml" class="headerlink" title="本地配置_config.yml"></a>本地配置_config.yml</h1><p>打开Hexo站点目录下的_config.yml文件，找到 <strong>deploy</strong>关键字</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">    <span class="attribute">type</span>: git</span><br><span class="line">    <span class="attribute">repo</span>: git<span class="variable">@SERVER</span>:/home/git/blog.git    <span class="comment">// 仓库地址</span></span><br><span class="line">    <span class="attribute">branch</span>: master      </span><br><span class="line">    <span class="attribute">message</span>: 提交的信息</span><br></pre></td></tr></table></figure>
<p>把SERVER改成你的服务器地址，然后保存文件，大功告成！</p>
<h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><p>我们使用</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo clean</span></span><br><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure>
<p>把Hexo从本地部署到服务器上，执行完之后，在浏览器访问你的服务器地址，应该就能看到博客首页了。</p>
<p>以后写好文章，再执行上面这三句命令，就可以实现自动化部署了，真是人生一大乐事(捂嘴)</p>
<h1 id="总结-amp-期望"><a href="#总结-amp-期望" class="headerlink" title="总结&amp;期望"></a>总结&amp;期望</h1><p>这篇文章从本地环境到服务器环境，再到自动化部署都作了一个详细的说明，从无到有搭建起了一个个人博客。接下来我会结合自己的博客，介绍一下</p>
<ul>
<li>主题选择</li>
<li>主题配置</li>
<li>第三方服务</li>
</ul>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://eliyar.biz/how_to_build_hexo_blog/" target="_blank" rel="noopener">从 0 开始搭建 hexo 博客</a></li>
<li><a href="https://segmentfault.com/a/1190000005723321" target="_blank" rel="noopener">阿里云VPS搭建自己的的Hexo博客</a></li>
<li><a href="http://sobaigu.com/Hexo-git-to-vps.html" target="_blank" rel="noopener">开始新的折腾，Hexo博客Git-VPS部署完整记录</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> vps </tag>
            
            <tag> godaddy </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Vim简单入门]]></title>
      <url>/articles/vim_guide.html</url>
      <content type="html"><![CDATA[<h3 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h3><p>刚进入vim 都是该模式<br>想要插入字符：请按键盘上的i 切换到插入模式<br>键盘上的 “:” 切换到底线命令模式，在最底一行输入命令。</p>
<a id="more"></a>
<h3 id="插入模式"><a href="#插入模式" class="headerlink" title="插入模式"></a>插入模式</h3><p>想要退出到<strong>命令模式</strong><br>请点击键盘上的<strong>esc</strong> </p>
<p>在输入模式中，可以使用以下按键：  </p>
<ul>
<li>字符按键以及Shift组合，输入字符  </li>
<li>ENTER，回车键，换行  </li>
<li>BACK SPACE，退格键，删除光标前一个字符  </li>
<li>DEL，删除键，删除光标后一个字符    </li>
<li>方向键，在文本中移动光标  </li>
<li>HOME/END，移动光标到行首/行尾  </li>
<li>Page Up/Page Down，上/下翻页  </li>
<li>Insert，切换光标为输入/替换模式，光标将变成竖线/下划线  </li>
<li>ESC，退出输入模式，切换到命令模式  </li>
</ul>
<h3 id="底线命令模式"><a href="#底线命令模式" class="headerlink" title="底线命令模式"></a>底线命令模式</h3><ul>
<li>q 不保存,直接退出  </li>
<li>q! 不保存，并强制退出  </li>
<li>e! 放弃所有修改，从上次保存文件开始再编辑  </li>
<li>w 保存文件,但不退出  </li>
<li>w! 强制保存，不退出  </li>
<li>wq或x 保存，并退出  </li>
<li>wq! 强制保存，并退出  </li>
</ul>
<h3 id="一般操作步骤"><a href="#一般操作步骤" class="headerlink" title="一般操作步骤"></a>一般操作步骤</h3><ul>
<li>vim file_name 打开文件</li>
<li>此时是命令模式 按<strong>i</strong> 进入<strong>插入模式</strong>，进行自己需要的修改</li>
<li>按<strong>esc</strong> 返回到命令模式，按 <strong>:</strong> 进入底线命令模式</li>
<li>输入wq 保存并退出</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Vim </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[CentOS 6 安装Nginx]]></title>
      <url>/articles/install_nginx_for_centos6.html</url>
      <content type="html"><![CDATA[<h1 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h1><blockquote>
<p>直接yum install nginx -y 会报package not found 的错</p>
</blockquote>
<a id="more"></a>
<h1 id="解决："><a href="#解决：" class="headerlink" title="解决："></a>解决：</h1><ul>
<li>在/etc/yum.repos.d/目录下创建一个源配置文件nginx.repo：</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum<span class="selector-class">.repos</span><span class="selector-class">.d</span>/</span><br><span class="line"> </span><br><span class="line">vim nginx.repo</span><br></pre></td></tr></table></figure>
<ul>
<li>填写如下内容：</li>
</ul>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[nginx]</span></span><br><span class="line"><span class="attr">name</span>=nginx repo</span><br><span class="line"><span class="attr">baseurl</span>=http://nginx.org/packages/centos/<span class="variable">$releasever</span>/<span class="variable">$basearch</span>/</span><br><span class="line"><span class="attr">gpgcheck</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">enabled</span>=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>保存，则会产生一个/etc/yum.repos.d/nginx.repo文件。</li>
</ul>
<p>我们现在再来执行Nginx安装命令：</p>
<pre><code>yum install nginx -y
</code></pre><p>现在应该就可以顺利安装了</p>
<p>安装完成，下面直接就可以启动Nginx了：</p>
<pre><code>/etc/init.d/nginx start
</code></pre><p>访问服务器，如无意外，应该就能看到Nginx欢迎页面了。  </p>
<p>搞定收工~</p>
<h1 id="备注："><a href="#备注：" class="headerlink" title="备注："></a>备注：</h1><p>如果对vim不熟悉的可以百度或者google一下<br>也可以看我写的这篇：<a href="https://www.bluelzy.com/2017/12/28/Vim简单入门/">Vim简单入门</a></p>
]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> Linux </tag>
            
            <tag> CentOS 6 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[使用Hexo搭建个人博客(一)]]></title>
      <url>/articles/ues_Hexo_build_blog_one.html</url>
      <content type="html"><![CDATA[<h1 id="本文说明："><a href="#本文说明：" class="headerlink" title="本文说明："></a>本文说明：</h1><p>本文是使用Hexo搭建个人博客系列的第一篇，主要是介绍一些准备工作，也是作为搭建<a href="https://www.bluelzy.com">本人博客</a>的过程回顾，主要包括   </p>
<ul>
<li>购买VPS</li>
<li>注册域名</li>
<li>解析域名</li>
</ul>
<p>注意：如果不希望自己花费太多RMB的话，也可以选择部署到github pages上，可以参考<a href="https://linghucong.js.org/2016/04/15/2016-04-15-hexo-github-pages-blog/" target="_blank" rel="noopener">手把手教你使用Hexo + Github Pages搭建个人独立博客</a>  </p>
<p>原理其实都是类似的，本博客的搭建使用VPS + Hexo</p>
<p>OK，接下来就一步步来准备这些所需的搭建环境。</p>
<a id="more"></a>
<h1 id="购买VPS"><a href="#购买VPS" class="headerlink" title="购买VPS"></a>购买VPS</h1><h2 id="去哪里买"><a href="#去哪里买" class="headerlink" title="去哪里买"></a>去哪里买</h2><p>我是在搬瓦工上购买的,最便宜的9.9和19.9美元/年的方案已经卖完了，所以我选择的是29.9$/年的，折算下来大概是185RMB，毕竟有自己的服务器，搭建博客只是其中一个小用途而已，还能用他做很多别的事情，所以我觉得还是很划算的。最重要的是 <strong>他支持支付宝啊~</strong></p>
<p>附上链接：<a href="https://bwh1.net/index.php" target="_blank" rel="noopener">搬瓦工VPS官网</a></p>
<h2 id="路线选择"><a href="#路线选择" class="headerlink" title="路线选择"></a>路线选择</h2><p>推荐选择KVM + CN2 ping值稳定在150ms左右，速度还是可以接受的</p>
<h2 id="购买步骤"><a href="#购买步骤" class="headerlink" title="购买步骤"></a>购买步骤</h2><p>进入搬瓦工的官网，选择VPS Hosting 看到下面有不同配置和价格的主机，选择适合自己的，然后点击 <strong>order kvm</strong></p>
<p><img src="http://img.blog.csdn.net/20171225221244083?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmx1ZV96eQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="购买vps"></p>
<p>确认订单，然后点击add to cart 加入购物车</p>
<p><img src="http://img.blog.csdn.net/20171225221058577?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmx1ZV96eQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="购买VPS"></p>
<p>确认无误后，点击checkout</p>
<p><img src="http://img.blog.csdn.net/20171225221313656?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmx1ZV96eQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="购买VPS"></p>
<p>填写个人信息，这里邮箱要写真实的，其他可以随便写<br>付款方式选择alipay 也就是支付宝，然后扫码完成付款即可</p>
<p><img src="http://img.blog.csdn.net/20171225221336305?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmx1ZV96eQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="购买VPS"></p>
<h2 id="其他推荐"><a href="#其他推荐" class="headerlink" title="其他推荐"></a>其他推荐</h2><ol>
<li><strong>Vultr</strong><br><a href="https://www.vultr.com/" target="_blank" rel="noopener">Vultr官网地址</a><br>支持Paypal、信用卡或比特币付款。需要充值验证后才能开通VPS.  </li>
<li><strong>Linode</strong><br><a href="https://www.linode.com/" target="_blank" rel="noopener">Linode官网地址</a><br>老牌VPS提供商，价格也会比较贵，配置高，服务好.</li>
</ol>
<h1 id="注册域名"><a href="#注册域名" class="headerlink" title="注册域名"></a>注册域名</h1><p>关于购买域名，我是在大名鼎鼎的<strong>狗爹(godaddy)</strong>上买的，没有选择国内的万网，因为自己的网站也不打算备案。接下来简单的写一下购买步骤</p>
<p>附上官网地址：<a href="https://sg.godaddy.com/zh/" target="_blank" rel="noopener">狗爹官网</a></p>
<p>狗爹已经完全支持中文了，而且最重要的是，他也支持支付宝，按照步骤操作，应该是没太大问题的~</p>
<h1 id="解析域名"><a href="#解析域名" class="headerlink" title="解析域名"></a>解析域名</h1><p>OK，现在我们有了服务器，也有了域名，需要做的就是把域名和服务器绑定起来，我使用的是<strong>Dnspod</strong></p>
<ul>
<li>官方教程：<a href="https://support.dnspod.cn/Kb/showarticle/tsid/177/" target="_blank" rel="noopener">DNSPOD域名解析</a></li>
<li><p>修改Godaddy的DNS解析: <a href="https://support.dnspod.cn/Kb/showarticle/tsid/42/" target="_blank" rel="noopener">godaddy修改DNS</a></p>
<p>总结一下，首先在Dnspod上注册账号，填入需要解析的域名和ip，然后会生成dns服务器，最后把godaddy的dns服务改成刚刚生成的那两个dnf服务器地址即可，输入域名应该就能访问到你的网站啦~<br><strong>上面的两个教程都说的很清楚了，还有困惑的欢迎留言~</strong></p>
</li>
</ul>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p> 这篇文章主要是搭建博客的前期准备，下一篇文章我们就正式开始使用hexo搭建博客了，主要介绍  </p>
<ul>
<li>本地安装hexo</li>
<li>服务器配置nginx</li>
<li>把个人博客部署到服务器</li>
</ul>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://www.jianshu.com/p/252b542b1abf" target="_blank" rel="noopener">Blog绑定域名——Godaddy + DNSPod</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术向 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> vps </tag>
            
            <tag> godaddy </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Shuttle安装以及配置简介]]></title>
      <url>/articles/shuttle_brief_introduction.html</url>
      <content type="html"><![CDATA[<h1 id="本文说明："><a href="#本文说明：" class="headerlink" title="本文说明："></a>本文说明：</h1><p>本文介绍Shuttle的安装以及配置，主要是根据<strong><a href="https://github.com/fitztrev/shuttle/wiki" target="_blank" rel="noopener">Github上的官方文档</a></strong>进行翻译说明，还有自己的一些补充，如果习惯直接看文档的朋友，可以直接关掉这篇文章了~</p>
<a id="more"></a>
<h2 id="Shuttle是什么"><a href="#Shuttle是什么" class="headerlink" title="Shuttle是什么"></a>Shuttle是什么</h2><p><a href="http://fitztrev.github.io/shuttle/" target="_blank" rel="noopener">点击我跳转到Shuttle的Github</a>  </p>
<p>看一下官方简介，就一句话  </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A<span class="built_in"> simple </span>SSH shortcut menu <span class="keyword">for</span> macOS</span><br></pre></td></tr></table></figure>
<p>顾名思义，就是一个Mac上管理SSH的工具<br><br></p>
<h2 id="Shuttle怎么用"><a href="#Shuttle怎么用" class="headerlink" title="Shuttle怎么用"></a>Shuttle怎么用</h2><p>接下来，让我给大家介绍一下Shuttle的用法 </p>
<ol>
<li><h3 id="安装Shuttle"><a href="#安装Shuttle" class="headerlink" title="安装Shuttle"></a>安装Shuttle</h3><p>首先到Shuttle的官网下载：<br><a href="http://fitztrev.github.io/shuttle/" target="_blank" rel="noopener">点击我跳转到下载地址</a><br>然后把Shuttle复制到Application文件夹下即可</p>
</li>
<li><h3 id="Shuttle配置"><a href="#Shuttle配置" class="headerlink" title="Shuttle配置"></a>Shuttle配置</h3><p><strong>这部分是本文的重点，敲黑板</strong><br>通过命令 <strong>open ~/.shuttle.json</strong> 打开.shuttle.json文件  </p>
<h4 id="Global-settings-全局配置"><a href="#Global-settings-全局配置" class="headerlink" title="Global settings 全局配置"></a>Global settings 全局配置</h4><ul>
<li><p>“editor”: “VALUE”,  设置编辑器，可选项default, nano, vi, vim  </p>
</li>
<li><p>“launch_at_login”: VALUE, 设置是否开机启动   </p>
</li>
<li><p>“terminal”: “VALUE”, 设置终端，一般是Terminal.app或者iTerm  </p>
</li>
<li><p>“iTerm_version”: “VALUE”, 设置iTerm版本，分别有三种  </p>
<p>   “iTerm_version”: “legacy”,  2.14版本  </p>
<pre><code>&quot;iTerm\_version&quot;: &quot;stable&quot;, 最新版本
&quot;iTerm\_version&quot;: &quot;nightly&quot;, nightly build 版本 
</code></pre></li>
<li><p>“default_theme”: “Homebrew” 设置终端主题  </p>
</li>
<li><p>open_in”: “VALUE” 有两个可选项 Tab 或者 new 顾名思义，新建一个Tab 或者 在新窗口执行命令</p>
</li>
<li>“show_ssh_config_hosts”: VALUE 设置是否解析config文件，默认是true</li>
<li>“ssh_config_ignore_keywords”: [“VALUE”] 设置忽略解析的关键字</li>
</ul>
<h4 id="Command-settings-命令配置"><a href="#Command-settings-命令配置" class="headerlink" title="Command settings 命令配置"></a>Command settings 命令配置</h4><ul>
<li><p>“cmd”: “VALUE” 设置命令<br>例如 <strong>“cmd”: “ps aux | grep [s]sh”</strong></p>
</li>
<li><p>“name”: “VALUE” 设置菜单栏显示的名称</p>
</li>
<li><p>“inTerminal”: “VALUE” </p>
<p>new 新建一个窗口执行命令  </p>
<pre><code>tab 新建一个Tab执行命令  
current 在当前窗口执行命令
</code></pre></li>
<li><p>“theme”: “VALUE” 设置主题~我用的是basic</p>
</li>
<li>“title”: “VALUE” 这个标题是显示在终端窗口的标题~</li>
</ul>
</li>
</ol>
<h2 id="Shuttle示例"><a href="#Shuttle示例" class="headerlink" title="Shuttle示例"></a>Shuttle示例</h2><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"hosts"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"cmd"</span>: <span class="string">"ssh root@127.0.0.1 -p 4000"</span>,</span><br><span class="line">      <span class="string">"inTerminal"</span>: <span class="string">"tab"</span>,</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"SSH - root用户"</span>,</span><br><span class="line">      <span class="string">"theme"</span>: <span class="string">"basic"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"Blue"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"cmd"</span>: <span class="string">"ssh root@127.0.0.1 -p 4000"</span>,</span><br><span class="line">      <span class="string">"inTerminal"</span>: <span class="string">"tab"</span>,</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"SSH - git用户"</span>,</span><br><span class="line">      <span class="string">"theme"</span>: <span class="string">"basic"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"Blue"</span></span><br><span class="line">    &#125;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>shuttle 除了可以用来当SSH管理工具以外，还能执行多条命令操作，提高效率，只要用分号分隔即可    </p>
<pre><code>例如 pwd; ls; cd /; 就会按顺序执行以上三条命令。  
</code></pre><p>好了，本文只是简单介绍了shuttle的基本用法，欢迎大家一起交流学习~</p>
<p>​    </p>
]]></content>
      
        <categories>
            
            <category> 休闲类 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 开发工具 </tag>
            
            <tag> shuttle </tag>
            
            <tag> linux </tag>
            
            <tag> github </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[第一篇文章]]></title>
      <url>/articles/first_article.html</url>
      <content type="html"><![CDATA[<p>emmm….<br>接下来打算写写搭建这个博客的过程。毕竟捣鼓了整整一个周末<br>这个博客不仅仅会写技术，也会记录日常生活~<br>反正就是一个想到什么写什么的地方</p>
<a id="more"></a>
<p><br><br><br><br><br></p>
<p>我是Blue</p>
<p>嘻嘻</p>
]]></content>
      
        <categories>
            
            <category> 日常说 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 日常 </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
